(()=>{"use strict";function e(e,t,c,n,i=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:i,getTitle:()=>e,getDescription:()=>t,getPriority:()=>n,toggle:()=>{i=!i},getDate:()=>c}}(()=>{let t=[],c=new Array;t.push(e("yes","yes","yes"));const n=document.getElementById("add-button"),i=document.querySelector(".cancel-button"),o=document.querySelector(".submit"),a=document.getElementById("overlay"),r=document.querySelector(".low"),d=document.querySelector(".medium"),u=document.querySelector(".high"),l=document.querySelector("span.error"),s=document.querySelector("[data-title]"),m=document.querySelector("[data-about]"),v=document.getElementById("due-date"),y=document.querySelector(".add-project-button"),h=document.querySelector("#add-project"),g=document.querySelector("#cancel-project"),p=document.querySelector(".projects"),E=document.getElementById("project"),f=document.querySelector(".sidebar"),L=document.querySelector(".title-error");function S(e){const t=document.querySelector(".task-items");if(null!==e)for(let c=0;c<e.length;c++){e[c].id="task"+c;const n=document.createElement("div");D(n,"item"),"low"==e[c].priority&&D(n,"low-prio"),"medium"==e[c].priority&&D(n,"mid-prio"),"high"==e[c].priority&&D(n,"high-prio"),N(t,n);const i=document.createElement("div");N(n,i);const o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id","checkbox");const a=document.createElement("div");D(a,"task-header"),T(a,e[c].title);const r=document.createElement("button");D(r,"delete-button"),r.innerHTML="&times;",N(i,o),N(i,a),N(i,r);const d=document.createElement("div");D(d,"thin-line"),N(n,d);const u=document.createElement("div");D(u,"task-info"),T(u,e[c].description),N(n,u);const l=document.createElement("div");D(l,"thin-line"),N(n,l);const s=document.createElement("div");D(s,"task-status"),N(n,s);const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("name","date"),m.setAttribute("id","date"),m.value=e[c].dueDate,N(s,m),r.addEventListener("click",(()=>{n.remove(),e=e.filter((t=>t.id!==e[c].id))}))}}function k(){D(r,"active"),P(d,"active"),P(u,"active"),P(l,"active")}function q(){D(d,"active"),P(r,"active"),P(u,"active"),P(l,"active")}function b(){D(u,"active"),P(d,"active"),P(r,"active"),P(l,"active")}function A(){P(r,"active"),P(d,"active"),P(u,"active"),P(l,"active"),C(m,""),C(s,""),C(v,""),D(document.querySelector("div.form"),"active"),D(a,"active")}function I(){P(document.querySelector("div.form"),"active"),P(a,"active")}function j(){if(""==E.value)return D(L,"active"),x(L,"Please choose a project title"),D(h,"active"),void D(g,"active");D(p,"hide"),P(y,"hide"),function(){const e=document.createElement("img"),t=document.createElement("img");t.src="Images/close-circle-outline.svg",e.src="Images/format-list-checks.svg";const c=document.createElement("span");T(c,E.value);const n=document.createElement("div");N(n,e),N(n,c),N(n,t),D(n,"a-project"),N(f,n)}()}function w(){D(p,"hide"),P(y,"hide")}function B(){C(E,""),D(y,"hide"),P(p,"hide"),P(h,"active"),P(g,"active"),P(L,"active")}function D(e,t){e.classList.add(t)}function P(e,t){e.classList.remove(t)}function x(e,t){e.textContent=t}function C(e,t){e.value=t}function N(e,t){e.append(t)}function T(e,t){e.textContent=t}return{loadHomePage:function(){n.addEventListener("click",A),a.addEventListener("click",I),i.addEventListener("click",I),o.addEventListener("click",(()=>(t.length||(t=t.concat(c)),function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==s.value||""==v.value?alert("Task Title is empty or you havent chose the due date"):r.classList.contains("active")||d.classList.contains("active")||u.classList.contains("active")?(r.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"low")),I()),d.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"medium")),I()),u.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"high")),I()),S(t),console.log(t),void console.log(c)):(D(l,"active"),void x(l,"Please choose a priority"))))),y.addEventListener("click",B),g.addEventListener("click",w),h.addEventListener("click",j),r.addEventListener("click",k),d.addEventListener("click",q),u.addEventListener("click",b),window.addEventListener("beforeunload",(()=>{c.length>t.length||localStorage.setItem("myArray",JSON.stringify(t))})),c=localStorage.getItem("myArray"),c=JSON.parse(c),S(c)}}})().loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBaUIsUUFBU00sR0FibkNvQyxPQUFPMUMsaUJBQWlCLGdCQUFnQixLQUNsQy9DLEVBQVE0QixPQUFTN0IsRUFBVTZCLFFBQy9COEQsYUFBYUMsUUFBUSxVQUFXQyxLQUFLQyxVQUFVOUYsT0FHakRDLEVBQVUwRixhQUFhSSxRQUFRLFdBQy9COUYsRUFBVTRGLEtBQUtHLE1BQU0vRixHQUNyQndCLEVBQWF4QixNQW5KTixHQ0RSNkUsZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvTW9kdWxlcy9UYXNrLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9Nb2R1bGVzL3BvcC11cC1mb3JtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0YXNrKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGlzRG9uZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGdldFRpdGxlID0gKCkgPT4ge1xuICAgIHJldHVybiB0aXRsZTtcbiAgfTtcblxuICBjb25zdCBnZXREYXRlID0gKCkgPT4ge1xuICAgIHJldHVybiBkdWVEYXRlO1xuICB9O1xuXG4gIGNvbnN0IGdldERlc2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgfTtcblxuICBjb25zdCBnZXRQcmlvcml0eSA9ICgpID0+IHtcbiAgICByZXR1cm4gcHJpb3JpdHk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlID0gKCkgPT4ge1xuICAgIGlzRG9uZSA9ICFpc0RvbmU7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBkdWVEYXRlLFxuICAgIHByaW9yaXR5LFxuICAgIGlzRG9uZSxcbiAgICBnZXRUaXRsZSxcbiAgICBnZXREZXNjcmlwdGlvbixcbiAgICBnZXRQcmlvcml0eSxcbiAgICB0b2dnbGUsXG4gICAgZ2V0RGF0ZSxcbiAgfTtcbn1cblxuZXhwb3J0IHsgdGFzayB9O1xuIiwiaW1wb3J0IHsgdGFzayB9IGZyb20gXCIuL1Rhc2tcIjtcblxuY29uc3QgVUkgPSAoKCkgPT4ge1xuICBsZXQgdGFza0FycmF5ID0gW107XG4gIGxldCBteUFycmF5ID0gbmV3IEFycmF5KCk7XG4gIHRhc2tBcnJheS5wdXNoKHRhc2soXCJ5ZXNcIiwgXCJ5ZXNcIiwgXCJ5ZXNcIikpO1xuICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYnV0dG9uXCIpO1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1idXR0b25cIik7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVybGF5XCIpO1xuICBjb25zdCBsb3dQcmlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3dcIik7XG4gIGNvbnN0IG1lZGl1bVByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bVwiKTtcbiAgY29uc3QgaGlnaFByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZ2hcIik7XG4gIGNvbnN0IHByaW9FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmVycm9yXCIpO1xuICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGVdXCIpO1xuICBjb25zdCB0YXNrQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYWJvdXRdXCIpO1xuICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWUtZGF0ZVwiKTtcbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3QtYnV0dG9uXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcHJvamVjdFwiKTtcbiAgY29uc3QgY2FuY2VsUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FuY2VsLXByb2plY3RcIik7XG4gIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKTtcbiAgY29uc3QgcHJvamVjdFRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIik7XG4gIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJcIik7XG4gIGNvbnN0IHRpdGxlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWVycm9yXCIpO1xuXG4gIGZ1bmN0aW9uIGxvYWRIb21lUGFnZSgpIHtcbiAgICBhZGRUYXNrKCk7XG4gICAgY2xvc2VUYXNrRm9ybSgpO1xuICAgIGFkZFByb2plY3RGb3JtKCk7XG4gICAgcHJpb0J1dHRvbnMoKTtcbiAgICBzdG9yZWRUYXNrcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICBhZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRm9ybSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhc2tGb3JtKCkge1xuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlRm9ybSk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUZvcm0pO1xuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKCF0YXNrQXJyYXkubGVuZ3RoKSB0YXNrQXJyYXkgPSB0YXNrQXJyYXkuY29uY2F0KG15QXJyYXkpO1xuICAgICAgLy9yZW1vdmluZyBlbGVtZW50cyBzbyB0aGV5IGRvbnQgZHVwbGljYXRlXG4gICAgICByZW1vdmVFbGVtZW50c0J5Q2xhc3MoXCJpdGVtXCIpO1xuXG4gICAgICAvLyAgICAgSW5wdXQgRXJyb3JcblxuICAgICAgaWYgKHRhc2tUaXRsZS52YWx1ZSA9PSBcIlwiIHx8IGRhdGUudmFsdWUgPT0gXCJcIilcbiAgICAgICAgcmV0dXJuIGFsZXJ0KFwiVGFzayBUaXRsZSBpcyBlbXB0eSBvciB5b3UgaGF2ZW50IGNob3NlIHRoZSBkdWUgZGF0ZVwiKTtcblxuICAgICAgLy8gICAgIFByaW9yaXR5IEVycm9yXG5cbiAgICAgIGlmIChcbiAgICAgICAgIWxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmXG4gICAgICAgICFtZWRpdW1QcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhaGlnaFByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXG4gICAgICApIHtcbiAgICAgICAgYWRkQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgICAgc2hvd0Vycm9yKHByaW9FcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJpb3JpdHlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibG93XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaXVtUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJtZWRpdW1cIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaWdoUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJoaWdoXCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuICAgICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheSk7XG4gICAgICBjb25zb2xlLmxvZyh0YXNrQXJyYXkpO1xuICAgICAgY29uc29sZS5sb2cobXlBcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5VGFza3MobGVBcnJheSkge1xuICAgIGNvbnN0IHRhc2tJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1pdGVtc1wiKTtcbiAgICBpZiAobGVBcnJheSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgbGVBcnJheVtpXS5pZCA9IFwidGFza1wiICsgaTtcbiAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3MoaXRlbURpdiwgXCJpdGVtXCIpO1xuICAgICAgaWYgKGxlQXJyYXlbaV0ucHJpb3JpdHkgPT0gXCJsb3dcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJsb3ctcHJpb1wiKTtcbiAgICAgIGlmIChsZUFycmF5W2ldLnByaW9yaXR5ID09IFwibWVkaXVtXCIpIGFkZENsYXNzKGl0ZW1EaXYsIFwibWlkLXByaW9cIik7XG4gICAgICBpZiAobGVBcnJheVtpXS5wcmlvcml0eSA9PSBcImhpZ2hcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJoaWdoLXByaW9cIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tJdGVtcywgaXRlbURpdik7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCBkaXYpO1xuICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgY29uc3QgdGFza1RpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tUaXRsZURpdiwgXCJ0YXNrLWhlYWRlclwiKTtcbiAgICAgIGFkZFRleHRUb0VsZW1lbnQodGFza1RpdGxlRGl2LCBsZUFycmF5W2ldLnRpdGxlKTtcbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBhZGRDbGFzcyhkZWxldGVCdXR0b24sIFwiZGVsZXRlLWJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSBcIiZ0aW1lcztcIjtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBjaGVja0JveCk7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgdGFza1RpdGxlRGl2KTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBkZWxldGVCdXR0b24pO1xuICAgICAgY29uc3QgdGhpbkxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUsIFwidGhpbi1saW5lXCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0aGluTGluZSk7XG4gICAgICBjb25zdCB0YXNrSW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyh0YXNrSW5mb0RpdiwgXCJ0YXNrLWluZm9cIik7XG4gICAgICBhZGRUZXh0VG9FbGVtZW50KHRhc2tJbmZvRGl2LCBsZUFycmF5W2ldLmRlc2NyaXB0aW9uKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGFza0luZm9EaXYpO1xuICAgICAgY29uc3QgdGhpbkxpbmUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRoaW5MaW5lMSwgXCJ0aGluLWxpbmVcIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGl0ZW1EaXYsIHRoaW5MaW5lMSk7XG4gICAgICBjb25zdCB0YXNrU3RhdHVzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tTdGF0dXNEaXYsIFwidGFzay1zdGF0dXNcIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGl0ZW1EaXYsIHRhc2tTdGF0dXNEaXYpO1xuICAgICAgY29uc3QgZGF0ZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZGF0ZVwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkudmFsdWUgPSBsZUFycmF5W2ldLmR1ZURhdGU7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tTdGF0dXNEaXYsIGRhdGV5KTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpdGVtRGl2LnJlbW92ZSgpO1xuICAgICAgICBsZUFycmF5ID0gbGVBcnJheS5maWx0ZXIoKGl0ZW1EaXYpID0+IHtcbiAgICAgICAgICByZXR1cm4gaXRlbURpdi5pZCAhPT0gbGVBcnJheVtpXS5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9yZWRUYXNrcygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICBpZiAobXlBcnJheS5sZW5ndGggPiB0YXNrQXJyYXkubGVuZ3RoKSByZXR1cm47XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm15QXJyYXlcIiwgSlNPTi5zdHJpbmdpZnkodGFza0FycmF5KSk7XG4gICAgfSk7XG5cbiAgICBteUFycmF5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJteUFycmF5XCIpO1xuICAgIG15QXJyYXkgPSBKU09OLnBhcnNlKG15QXJyYXkpO1xuICAgIGRpc3BsYXlUYXNrcyhteUFycmF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zKCkge1xuICAgIGxvd1ByaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByaW9CdXR0b25zQWN0aXZlR3JlZW4pO1xuICAgIG1lZGl1bVByaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByaW9CdXR0b25zQWN0aXZlWWVsbG93KTtcbiAgICBoaWdoUHJpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcHJpb0J1dHRvbnNBY3RpdmVSZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJpb0J1dHRvbnNBY3RpdmVHcmVlbigpIHtcbiAgICBhZGRDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlWWVsbG93KCkge1xuICAgIGFkZENsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGxvd1ByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJpb0J1dHRvbnNBY3RpdmVSZWQoKSB7XG4gICAgYWRkQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGxvd1ByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuRm9ybSgpIHtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICBjbGVhckZvcm1JbnB1dHModGFza0Fib3V0LCBcIlwiKTtcbiAgICBjbGVhckZvcm1JbnB1dHModGFza1RpdGxlLCBcIlwiKTtcbiAgICBjbGVhckZvcm1JbnB1dHMoZGF0ZSwgXCJcIik7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuZm9ybVwiKTtcbiAgICBhZGRDbGFzcyhmb3JtLCBcImFjdGl2ZVwiKTtcbiAgICBhZGRDbGFzcyhvdmVybGF5LCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlRm9ybSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5mb3JtXCIpO1xuICAgIHJlbW92ZUNsYXNzKGZvcm0sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKG92ZXJsYXksIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkUHJvamVjdEZvcm0oKSB7XG4gICAgYWRkUHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlblByb2plY3RGb3JtKTtcbiAgICBjYW5jZWxQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVByb2plY3RGb3JtKTtcbiAgICBhZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhZGRQcm9qZWN0VGl0bGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkUHJvamVjdFRpdGxlKCkge1xuICAgIGlmIChwcm9qZWN0VGl0bGVJbnB1dC52YWx1ZSA9PSBcIlwiKSB7XG4gICAgICBhZGRDbGFzcyh0aXRsZUVycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgIHNob3dFcnJvcih0aXRsZUVycm9yLCBcIlBsZWFzZSBjaG9vc2UgYSBwcm9qZWN0IHRpdGxlXCIpO1xuICAgICAgYWRkQ2xhc3MoYWRkUHJvamVjdCwgXCJhY3RpdmVcIik7XG4gICAgICBhZGRDbGFzcyhjYW5jZWxQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRkQ2xhc3MocHJvamVjdEZvcm0sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gICAgY3JlYXRlUHJvamVjdHMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzKCkge1xuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb25zdCBjbG9zZUltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjbG9zZUltYWdlLnNyYyA9IFwiSW1hZ2VzL2Nsb3NlLWNpcmNsZS1vdXRsaW5lLnN2Z1wiO1xuICAgIGltYWdlLnNyYyA9IFwiSW1hZ2VzL2Zvcm1hdC1saXN0LWNoZWNrcy5zdmdcIjtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgYWRkVGV4dFRvRWxlbWVudChzcGFuLCBwcm9qZWN0VGl0bGVJbnB1dC52YWx1ZSk7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgaW1hZ2UpO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBzcGFuKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgY2xvc2VJbWFnZSk7XG4gICAgYWRkQ2xhc3MoZGl2LCBcImEtcHJvamVjdFwiKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHNpZGVCYXIsIGRpdik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVByb2plY3RGb3JtKCkge1xuICAgIGFkZENsYXNzKHByb2plY3RGb3JtLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoYWRkUHJvamVjdEJ1dHRvbiwgXCJoaWRlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlblByb2plY3RGb3JtKCkge1xuICAgIGNsZWFyRm9ybUlucHV0cyhwcm9qZWN0VGl0bGVJbnB1dCwgXCJcIik7XG4gICAgYWRkQ2xhc3MoYWRkUHJvamVjdEJ1dHRvbiwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByb2plY3RGb3JtLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoYWRkUHJvamVjdCwgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoY2FuY2VsUHJvamVjdCwgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3ModGl0bGVFcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9uc1xuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXMpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhcyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKGVsZW1lbnQsIG1lc3NhZ2UpIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyRm9ybUlucHV0cyhlbGVtZW50LCBjbGVhcikge1xuICAgIGVsZW1lbnQudmFsdWUgPSBjbGVhcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZENoaWxkVG9QYXJlbnQocGFyZW50LCBjaGlsZCkge1xuICAgIHBhcmVudC5hcHBlbmQoY2hpbGQpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGV4dFRvRWxlbWVudChlbGVtZW50LCB0ZXh0KSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50c0J5Q2xhc3MoY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7XG4gICAgd2hpbGUgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGVsZW1lbnRzWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudHNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbG9hZEhvbWVQYWdlLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IHsgVUkgfTtcbiIsImltcG9ydCB7IFVJIH0gZnJvbSBcIi4vTW9kdWxlcy9wb3AtdXAtZm9ybVwiO1xuVUkubG9hZEhvbWVQYWdlKCk7XG4iXSwibmFtZXMiOlsidGFzayIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJpc0RvbmUiLCJnZXRUaXRsZSIsImdldERlc2NyaXB0aW9uIiwiZ2V0UHJpb3JpdHkiLCJ0b2dnbGUiLCJnZXREYXRlIiwidGFza0FycmF5IiwibXlBcnJheSIsIkFycmF5IiwicHVzaCIsImFkZFRhc2tCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2FuY2VsQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvbiIsIm92ZXJsYXkiLCJsb3dQcmlvIiwibWVkaXVtUHJpbyIsImhpZ2hQcmlvIiwicHJpb0Vycm9yIiwidGFza1RpdGxlIiwidGFza0Fib3V0IiwiZGF0ZSIsImFkZFByb2plY3RCdXR0b24iLCJhZGRQcm9qZWN0IiwiY2FuY2VsUHJvamVjdCIsInByb2plY3RGb3JtIiwicHJvamVjdFRpdGxlSW5wdXQiLCJzaWRlQmFyIiwidGl0bGVFcnJvciIsImRpc3BsYXlUYXNrcyIsImxlQXJyYXkiLCJ0YXNrSXRlbXMiLCJpIiwibGVuZ3RoIiwiaWQiLCJpdGVtRGl2IiwiY3JlYXRlRWxlbWVudCIsImFkZENsYXNzIiwiYXBwZW5kQ2hpbGRUb1BhcmVudCIsImRpdiIsImNoZWNrQm94Iiwic2V0QXR0cmlidXRlIiwidGFza1RpdGxlRGl2IiwiYWRkVGV4dFRvRWxlbWVudCIsImRlbGV0ZUJ1dHRvbiIsImlubmVySFRNTCIsInRoaW5MaW5lIiwidGFza0luZm9EaXYiLCJ0aGluTGluZTEiLCJ0YXNrU3RhdHVzRGl2IiwiZGF0ZXkiLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJmaWx0ZXIiLCJwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuIiwicmVtb3ZlQ2xhc3MiLCJwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyIsInByaW9CdXR0b25zQWN0aXZlUmVkIiwib3BlbkZvcm0iLCJjbGVhckZvcm1JbnB1dHMiLCJjbG9zZUZvcm0iLCJhZGRQcm9qZWN0VGl0bGUiLCJzaG93RXJyb3IiLCJpbWFnZSIsImNsb3NlSW1hZ2UiLCJzcmMiLCJzcGFuIiwiY3JlYXRlUHJvamVjdHMiLCJjbG9zZVByb2plY3RGb3JtIiwib3BlblByb2plY3RGb3JtIiwiZWxlbWVudCIsImNsYXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJtZXNzYWdlIiwidGV4dENvbnRlbnQiLCJjbGVhciIsInBhcmVudCIsImNoaWxkIiwiYXBwZW5kIiwidGV4dCIsImxvYWRIb21lUGFnZSIsImNvbmNhdCIsImNsYXNzTmFtZSIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUVsZW1lbnRzQnlDbGFzcyIsImFsZXJ0IiwiY29udGFpbnMiLCJjb25zb2xlIiwibG9nIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRJdGVtIiwicGFyc2UiXSwic291cmNlUm9vdCI6IiJ9