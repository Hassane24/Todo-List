(()=>{"use strict";function e(e,t,c,n,o=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:o}}const t=(()=>{let t=new Array,c=new Array;const n=document.getElementById("add-button"),o=document.querySelector(".cancel-button"),i=document.querySelector(".submit"),a=document.getElementById("overlay"),r=document.querySelector(".low"),d=document.querySelector(".medium"),u=document.querySelector(".high"),l=document.querySelector("span.error"),s=document.querySelector("[data-title]"),m=document.querySelector("[data-about]"),v=document.getElementById("due-date"),y=document.querySelector(".add-project-button"),h=document.querySelector("#add-project"),p=document.querySelector("#cancel-project"),E=document.querySelector(".projects"),f=document.getElementById("project"),g=document.querySelector(".sidebar"),L=document.querySelector(".title-error");function S(e){const n=document.querySelector(".task-items");for(let o=0;o<e.length;o++){e[o].id="task"+o;const i=document.createElement("div");x(i,"item"),"low"==e[o].priority&&x(i,"low-prio"),"medium"==e[o].priority&&x(i,"mid-prio"),"high"==e[o].priority&&x(i,"high-prio"),H(n,i);const a=document.createElement("div");H(i,a);const r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("id","checkbox");const d=document.createElement("div");x(d,"task-header"),O(d,e[o].title);const u=document.createElement("button");x(u,"delete-button"),u.innerHTML="&times;",H(a,r),H(a,d),H(a,u);const l=document.createElement("div");x(l,"thin-line"),H(i,l);const s=document.createElement("div");x(s,"task-info"),O(s,e[o].description),H(i,s);const m=document.createElement("div");x(m,"thin-line"),H(i,m);const v=document.createElement("div");x(v,"task-status"),H(i,v);const y=document.createElement("input");y.setAttribute("type","date"),y.setAttribute("name","date"),y.setAttribute("id","date"),y.value=e[o].dueDate,H(v,y),u.addEventListener("click",(()=>{i.remove(),console.log(t),console.log(c),t=t.filter((e=>{if(e.id!==t[o].id)return!0})),k(t)}))}}function k(e){localStorage.setItem("myArray",JSON.stringify(e))}function q(){x(r,"active"),D(d,"active"),D(u,"active"),D(l,"active")}function b(){x(d,"active"),D(r,"active"),D(u,"active"),D(l,"active")}function A(){x(u,"active"),D(d,"active"),D(r,"active"),D(l,"active")}function I(){D(r,"active"),D(d,"active"),D(u,"active"),D(l,"active"),P(m,""),P(s,""),P(v,""),x(document.querySelector("div.form"),"active"),x(a,"active")}function j(){D(document.querySelector("div.form"),"active"),D(a,"active")}function w(){if(""==f.value)return x(L,"active"),N(L,"Please choose a project title"),x(h,"active"),void x(p,"active");x(E,"hide"),D(y,"hide"),function(){const e=document.createElement("img"),t=document.createElement("img");t.src="Images/close-circle-outline.svg",e.src="Images/format-list-checks.svg";const c=document.createElement("span");O(c,f.value);const n=document.createElement("div");H(n,e),H(n,c),H(n,t),x(n,"a-project"),H(g,n)}()}function B(){x(E,"hide"),D(y,"hide")}function C(){P(f,""),x(y,"hide"),D(E,"hide"),D(h,"active"),D(p,"active"),D(L,"active")}function x(e,t){e.classList.add(t)}function D(e,t){e.classList.remove(t)}function N(e,t){e.textContent=t}function P(e,t){e.value=t}function H(e,t){e.append(t)}function O(e,t){e.textContent=t}return{loadHomePage:function(){n.addEventListener("click",I),a.addEventListener("click",j),o.addEventListener("click",j),i.addEventListener("click",(()=>(console.log(t),console.log(c),function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==s.value||""==v.value?alert("Task Title is empty or you havent chose the due date"):r.classList.contains("active")||d.classList.contains("active")||u.classList.contains("active")?r.classList.contains("active")?(t.push(e(s.value,m.value,v.value,"low")),j(),S(t),k(t)):d.classList.contains("active")?(t.push(e(s.value,m.value,v.value,"medium")),j(),S(t),k(t)):u.classList.contains("active")?(t.push(e(s.value,m.value,v.value,"high")),j(),S(t),k(t)):void 0:(x(l,"active"),N(l,"Please choose a priority"))))),y.addEventListener("click",C),p.addEventListener("click",B),h.addEventListener("click",w),r.addEventListener("click",q),d.addEventListener("click",b),u.addEventListener("click",A),localStorage.getItem("myArray")&&(c=localStorage.getItem("myArray"),c=JSON.parse(c),t=[...t,...c]),S(t),console.log(t)}}})();document.addEventListener("DOMContentLoaded",t.loadHomePage)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsU0FBU0EsRUFBS0MsRUFBT0MsRUFBYUMsRUFBU0MsRUFBVUMsR0FBUyxHQUM1RCxNQUFPLENBQ0xKLE1BQUFBLEVBQ0FDLFlBQUFBLEVBQ0FDLFFBQUFBLEVBQ0FDLFNBQUFBLEVBQ0FDLE9BQUFBLEdDSkosTUFBTUMsRUFBSyxNQUNULElBQUlDLEVBQVksSUFBSUMsTUFDaEJDLEVBQVUsSUFBSUQsTUFDbEIsTUFBTUUsRUFBZ0JDLFNBQVNDLGVBQWUsY0FDeENDLEVBQWVGLFNBQVNHLGNBQWMsa0JBQ3RDQyxFQUFlSixTQUFTRyxjQUFjLFdBQ3RDRSxFQUFVTCxTQUFTQyxlQUFlLFdBQ2xDSyxFQUFVTixTQUFTRyxjQUFjLFFBQ2pDSSxFQUFhUCxTQUFTRyxjQUFjLFdBQ3BDSyxFQUFXUixTQUFTRyxjQUFjLFNBQ2xDTSxFQUFZVCxTQUFTRyxjQUFjLGNBQ25DTyxFQUFZVixTQUFTRyxjQUFjLGdCQUNuQ1EsRUFBWVgsU0FBU0csY0FBYyxnQkFDbkNTLEVBQU9aLFNBQVNDLGVBQWUsWUFDL0JZLEVBQW1CYixTQUFTRyxjQUFjLHVCQUMxQ1csRUFBYWQsU0FBU0csY0FBYyxnQkFDcENZLEVBQWdCZixTQUFTRyxjQUFjLG1CQUN2Q2EsRUFBY2hCLFNBQVNHLGNBQWMsYUFDckNjLEVBQW9CakIsU0FBU0MsZUFBZSxXQUM1Q2lCLEVBQVVsQixTQUFTRyxjQUFjLFlBQ2pDZ0IsRUFBYW5CLFNBQVNHLGNBQWMsZ0JBdUUxQyxTQUFTaUIsRUFBYUMsR0FDcEIsTUFBTUMsRUFBWXRCLFNBQVNHLGNBQWMsZUFDekMsSUFBSyxJQUFJb0IsRUFBSSxFQUFHQSxFQUFJRixFQUFNRyxPQUFRRCxJQUFLLENBQ3JDRixFQUFNRSxHQUFHRSxHQUFLLE9BQVNGLEVBQ3ZCLE1BQU1HLEVBQVUxQixTQUFTMkIsY0FBYyxPQUN2Q0MsRUFBU0YsRUFBUyxRQUNPLE9BQXJCTCxFQUFNRSxHQUFHOUIsVUFBbUJtQyxFQUFTRixFQUFTLFlBQ3pCLFVBQXJCTCxFQUFNRSxHQUFHOUIsVUFBc0JtQyxFQUFTRixFQUFTLFlBQzVCLFFBQXJCTCxFQUFNRSxHQUFHOUIsVUFBb0JtQyxFQUFTRixFQUFTLGFBQ25ERyxFQUFvQlAsRUFBV0ksR0FDL0IsTUFBTUksRUFBTTlCLFNBQVMyQixjQUFjLE9BQ25DRSxFQUFvQkgsRUFBU0ksR0FDN0IsTUFBTUMsRUFBVy9CLFNBQVMyQixjQUFjLFNBQ3hDSSxFQUFTQyxhQUFhLE9BQVEsWUFDOUJELEVBQVNDLGFBQWEsS0FBTSxZQUM1QixNQUFNQyxFQUFlakMsU0FBUzJCLGNBQWMsT0FDNUNDLEVBQVNLLEVBQWMsZUFDdkJDLEVBQWlCRCxFQUFjWixFQUFNRSxHQUFHakMsT0FDeEMsTUFBTTZDLEVBQWVuQyxTQUFTMkIsY0FBYyxVQUM1Q0MsRUFBU08sRUFBYyxpQkFDdkJBLEVBQWFDLFVBQVksVUFDekJQLEVBQW9CQyxFQUFLQyxHQUN6QkYsRUFBb0JDLEVBQUtHLEdBQ3pCSixFQUFvQkMsRUFBS0ssR0FDekIsTUFBTUUsRUFBV3JDLFNBQVMyQixjQUFjLE9BQ3hDQyxFQUFTUyxFQUFVLGFBQ25CUixFQUFvQkgsRUFBU1csR0FDN0IsTUFBTUMsRUFBY3RDLFNBQVMyQixjQUFjLE9BQzNDQyxFQUFTVSxFQUFhLGFBQ3RCSixFQUFpQkksRUFBYWpCLEVBQU1FLEdBQUdoQyxhQUN2Q3NDLEVBQW9CSCxFQUFTWSxHQUM3QixNQUFNQyxFQUFZdkMsU0FBUzJCLGNBQWMsT0FDekNDLEVBQVNXLEVBQVcsYUFDcEJWLEVBQW9CSCxFQUFTYSxHQUM3QixNQUFNQyxFQUFnQnhDLFNBQVMyQixjQUFjLE9BQzdDQyxFQUFTWSxFQUFlLGVBQ3hCWCxFQUFvQkgsRUFBU2MsR0FDN0IsTUFBTUMsRUFBUXpDLFNBQVMyQixjQUFjLFNBQ3JDYyxFQUFNVCxhQUFhLE9BQVEsUUFDM0JTLEVBQU1ULGFBQWEsT0FBUSxRQUMzQlMsRUFBTVQsYUFBYSxLQUFNLFFBQ3pCUyxFQUFNQyxNQUFRckIsRUFBTUUsR0FBRy9CLFFBQ3ZCcUMsRUFBb0JXLEVBQWVDLEdBQ25DTixFQUFhUSxpQkFBaUIsU0FBUyxLQUNyQ2pCLEVBQVFrQixTQUNSQyxRQUFRQyxJQUFJbEQsR0FDWmlELFFBQVFDLElBQUloRCxHQUNaRixFQUFZQSxFQUFVbUQsUUFBUUMsSUFDNUIsR0FBSUEsRUFBS3ZCLEtBQU83QixFQUFVMkIsR0FBR0UsR0FBSSxPQUFPLEtBRTFDd0IsRUFBV3JELE9BS2pCLFNBQVNxRCxFQUFXNUIsR0FDbEI2QixhQUFhQyxRQUFRLFVBQVdDLEtBQUtDLFVBQVVoQyxJQWdCakQsU0FBU2lDLElBQ1AxQixFQUFTdEIsRUFBUyxVQUNsQmlELEVBQVloRCxFQUFZLFVBQ3hCZ0QsRUFBWS9DLEVBQVUsVUFDdEIrQyxFQUFZOUMsRUFBVyxVQUd6QixTQUFTK0MsSUFDUDVCLEVBQVNyQixFQUFZLFVBQ3JCZ0QsRUFBWWpELEVBQVMsVUFDckJpRCxFQUFZL0MsRUFBVSxVQUN0QitDLEVBQVk5QyxFQUFXLFVBR3pCLFNBQVNnRCxJQUNQN0IsRUFBU3BCLEVBQVUsVUFDbkIrQyxFQUFZaEQsRUFBWSxVQUN4QmdELEVBQVlqRCxFQUFTLFVBQ3JCaUQsRUFBWTlDLEVBQVcsVUFHekIsU0FBU2lELElBQ1BILEVBQVlqRCxFQUFTLFVBQ3JCaUQsRUFBWWhELEVBQVksVUFDeEJnRCxFQUFZL0MsRUFBVSxVQUN0QitDLEVBQVk5QyxFQUFXLFVBQ3ZCa0QsRUFBZ0JoRCxFQUFXLElBQzNCZ0QsRUFBZ0JqRCxFQUFXLElBQzNCaUQsRUFBZ0IvQyxFQUFNLElBRXRCZ0IsRUFEYTVCLFNBQVNHLGNBQWMsWUFDckIsVUFDZnlCLEVBQVN2QixFQUFTLFVBR3BCLFNBQVN1RCxJQUVQTCxFQURhdkQsU0FBU0csY0FBYyxZQUNsQixVQUNsQm9ELEVBQVlsRCxFQUFTLFVBU3ZCLFNBQVN3RCxJQUNQLEdBQStCLElBQTNCNUMsRUFBa0J5QixNQUtwQixPQUpBZCxFQUFTVCxFQUFZLFVBQ3JCMkMsRUFBVTNDLEVBQVksaUNBQ3RCUyxFQUFTZCxFQUFZLGVBQ3JCYyxFQUFTYixFQUFlLFVBRzFCYSxFQUFTWixFQUFhLFFBQ3RCdUMsRUFBWTFDLEVBQWtCLFFBSWhDLFdBQ0UsTUFBTWtELEVBQVEvRCxTQUFTMkIsY0FBYyxPQUMvQnFDLEVBQWFoRSxTQUFTMkIsY0FBYyxPQUMxQ3FDLEVBQVdDLElBQU0sa0NBQ2pCRixFQUFNRSxJQUFNLGdDQUNaLE1BQU1DLEVBQU9sRSxTQUFTMkIsY0FBYyxRQUNwQ08sRUFBaUJnQyxFQUFNakQsRUFBa0J5QixPQUN6QyxNQUFNWixFQUFNOUIsU0FBUzJCLGNBQWMsT0FDbkNFLEVBQW9CQyxFQUFLaUMsR0FDekJsQyxFQUFvQkMsRUFBS29DLEdBQ3pCckMsRUFBb0JDLEVBQUtrQyxHQUN6QnBDLEVBQVNFLEVBQUssYUFDZEQsRUFBb0JYLEVBQVNZLEdBZjdCcUMsR0FrQkYsU0FBU0MsSUFDUHhDLEVBQVNaLEVBQWEsUUFDdEJ1QyxFQUFZMUMsRUFBa0IsUUFHaEMsU0FBU3dELElBQ1BWLEVBQWdCMUMsRUFBbUIsSUFDbkNXLEVBQVNmLEVBQWtCLFFBQzNCMEMsRUFBWXZDLEVBQWEsUUFDekJ1QyxFQUFZekMsRUFBWSxVQUN4QnlDLEVBQVl4QyxFQUFlLFVBQzNCd0MsRUFBWXBDLEVBQVksVUFLMUIsU0FBU1MsRUFBUzBDLEVBQVNDLEdBQ3pCRCxFQUFRRSxVQUFVQyxJQUFJRixHQUd4QixTQUFTaEIsRUFBWWUsRUFBU0MsR0FDNUJELEVBQVFFLFVBQVU1QixPQUFPMkIsR0FHM0IsU0FBU1QsRUFBVVEsRUFBU0ksR0FDMUJKLEVBQVFLLFlBQWNELEVBR3hCLFNBQVNmLEVBQWdCVyxFQUFTTSxHQUNoQ04sRUFBUTVCLE1BQVFrQyxFQUdsQixTQUFTL0MsRUFBb0JnRCxFQUFRQyxHQUNuQ0QsRUFBT0UsT0FBT0QsR0FHaEIsU0FBUzVDLEVBQWlCb0MsRUFBU1UsR0FDakNWLEVBQVFLLFlBQWNLLEVBVXhCLE1BQU8sQ0FDTEMsYUF2UUYsV0FXRWxGLEVBQWM0QyxpQkFBaUIsUUFBU2UsR0FJeENyRCxFQUFRc0MsaUJBQWlCLFFBQVNpQixHQUNsQzFELEVBQWF5QyxpQkFBaUIsUUFBU2lCLEdBQ3ZDeEQsRUFBYXVDLGlCQUFpQixTQUFTLEtBQ3JDRSxRQUFRQyxJQUFJbEQsR0FDWmlELFFBQVFDLElBQUloRCxHQTRPaEIsU0FBK0JvRixHQUM3QixNQUFNQyxFQUFXbkYsU0FBU29GLHVCQTFPRixRQTJPeEIsS0FBT0QsRUFBUzNELE9BQVMsR0FDdkIyRCxFQUFTLEdBQUdFLFdBQVdDLFlBQVlILEVBQVMsSUE1TzVDSSxHQUl1QixJQUFuQjdFLEVBQVVnQyxPQUE2QixJQUFkOUIsRUFBSzhCLE1BQ3pCOEMsTUFBTSx3REFLWmxGLEVBQVFrRSxVQUFVaUIsU0FBUyxXQUMzQmxGLEVBQVdpRSxVQUFVaUIsU0FBUyxXQUM5QmpGLEVBQVNnRSxVQUFVaUIsU0FBUyxVQU0zQm5GLEVBQVFrRSxVQUFVaUIsU0FBUyxXQUM3QjdGLEVBQVU4RixLQUNSckcsRUFBS3FCLEVBQVVnQyxNQUFPL0IsRUFBVStCLE1BQU85QixFQUFLOEIsTUFBTyxRQUVyRGtCLElBQ0F4QyxFQUFheEIsR0FDTnFELEVBQVdyRCxJQUdoQlcsRUFBV2lFLFVBQVVpQixTQUFTLFdBQ2hDN0YsRUFBVThGLEtBQ1JyRyxFQUFLcUIsRUFBVWdDLE1BQU8vQixFQUFVK0IsTUFBTzlCLEVBQUs4QixNQUFPLFdBRXJEa0IsSUFDQXhDLEVBQWF4QixHQUNOcUQsRUFBV3JELElBR2hCWSxFQUFTZ0UsVUFBVWlCLFNBQVMsV0FDOUI3RixFQUFVOEYsS0FDUnJHLEVBQUtxQixFQUFVZ0MsTUFBTy9CLEVBQVUrQixNQUFPOUIsRUFBSzhCLE1BQU8sU0FFckRrQixJQUNBeEMsRUFBYXhCLEdBQ05xRCxFQUFXckQsU0FOcEIsR0F0QkVnQyxFQUFTbkIsRUFBVyxVQUNicUQsRUFBVXJELEVBQVcsZ0NBaUpoQ0ksRUFBaUI4QixpQkFBaUIsUUFBUzBCLEdBQzNDdEQsRUFBYzRCLGlCQUFpQixRQUFTeUIsR0FDeEN0RCxFQUFXNkIsaUJBQWlCLFFBQVNrQixHQWhEckN2RCxFQUFRcUMsaUJBQWlCLFFBQVNXLEdBQ2xDL0MsRUFBV29DLGlCQUFpQixRQUFTYSxHQUNyQ2hELEVBQVNtQyxpQkFBaUIsUUFBU2MsR0FUOUJQLGFBQWF5QyxRQUFRLGFBQzFCN0YsRUFBVW9ELGFBQWF5QyxRQUFRLFdBQy9CN0YsRUFBVXNELEtBQUt3QyxNQUFNOUYsR0FDckJGLEVBQVksSUFBSUEsS0FBY0UsSUE5SDlCc0IsRUFBYXhCLEdBQ2JpRCxRQUFRQyxJQUFJbEQsTUE3QkwsR0NEWEksU0FBUzJDLGlCQUFpQixtQkFBb0JoRCxFQUFHc0YsZSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9Nb2R1bGVzL1Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL01vZHVsZXMvcG9wLXVwLWZvcm0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHRhc2sodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgaXNEb25lID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBkdWVEYXRlLFxuICAgIHByaW9yaXR5LFxuICAgIGlzRG9uZSxcbiAgfTtcbn1cblxuZXhwb3J0IHsgdGFzayB9O1xuIiwiaW1wb3J0IHsgdGFzayB9IGZyb20gXCIuL1Rhc2tcIjtcblxuY29uc3QgVUkgPSAoKCkgPT4ge1xuICBsZXQgdGFza0FycmF5ID0gbmV3IEFycmF5KCk7XG4gIGxldCBteUFycmF5ID0gbmV3IEFycmF5KCk7XG4gIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1idXR0b25cIik7XG4gIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FuY2VsLWJ1dHRvblwiKTtcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRcIik7XG4gIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJsYXlcIik7XG4gIGNvbnN0IGxvd1ByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvd1wiKTtcbiAgY29uc3QgbWVkaXVtUHJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVkaXVtXCIpO1xuICBjb25zdCBoaWdoUHJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGlnaFwiKTtcbiAgY29uc3QgcHJpb0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNwYW4uZXJyb3JcIik7XG4gIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10aXRsZV1cIik7XG4gIGNvbnN0IHRhc2tBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1hYm91dF1cIik7XG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZS1kYXRlXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcHJvamVjdC1idXR0b25cIik7XG4gIGNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1wcm9qZWN0XCIpO1xuICBjb25zdCBjYW5jZWxQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYW5jZWwtcHJvamVjdFwiKTtcbiAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RzXCIpO1xuICBjb25zdCBwcm9qZWN0VGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdFwiKTtcbiAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhclwiKTtcbiAgY29uc3QgdGl0bGVFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtZXJyb3JcIik7XG5cbiAgZnVuY3Rpb24gbG9hZEhvbWVQYWdlKCkge1xuICAgIGFkZFRhc2soKTtcbiAgICBjbG9zZVRhc2tGb3JtKCk7XG4gICAgYWRkUHJvamVjdEZvcm0oKTtcbiAgICBwcmlvQnV0dG9ucygpO1xuICAgIGdldFRhc2tzKCk7XG4gICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheSk7XG4gICAgY29uc29sZS5sb2codGFza0FycmF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRhc2soKSB7XG4gICAgYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkZvcm0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VUYXNrRm9ybSgpIHtcbiAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUZvcm0pO1xuICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VGb3JtKTtcbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHRhc2tBcnJheSk7XG4gICAgICBjb25zb2xlLmxvZyhteUFycmF5KTtcbiAgICAgIC8vIGlmICghdGFza0FycmF5Lmxlbmd0aCkgdGFza0FycmF5ID0gdGFza0FycmF5LmNvbmNhdChteUFycmF5KTtcbiAgICAgIC8vcmVtb3ZpbmcgZWxlbWVudHMgc28gdGhleSBkb250IGR1cGxpY2F0ZVxuICAgICAgcmVtb3ZlRWxlbWVudHNCeUNsYXNzKFwiaXRlbVwiKTtcblxuICAgICAgLy8gICAgIElucHV0IEVycm9yXG5cbiAgICAgIGlmICh0YXNrVGl0bGUudmFsdWUgPT0gXCJcIiB8fCBkYXRlLnZhbHVlID09IFwiXCIpXG4gICAgICAgIHJldHVybiBhbGVydChcIlRhc2sgVGl0bGUgaXMgZW1wdHkgb3IgeW91IGhhdmVudCBjaG9zZSB0aGUgZHVlIGRhdGVcIik7XG5cbiAgICAgIC8vICAgICBQcmlvcml0eSBFcnJvclxuXG4gICAgICBpZiAoXG4gICAgICAgICFsb3dQcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhbWVkaXVtUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikgJiZcbiAgICAgICAgIWhpZ2hQcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxuICAgICAgKSB7XG4gICAgICAgIGFkZENsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gICAgICAgIHJldHVybiBzaG93RXJyb3IocHJpb0Vycm9yLCBcIlBsZWFzZSBjaG9vc2UgYSBwcmlvcml0eVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibG93XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgICBkaXNwbGF5VGFza3ModGFza0FycmF5KTtcbiAgICAgICAgcmV0dXJuIHN0b3JlVGFza3ModGFza0FycmF5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGl1bVByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibWVkaXVtXCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgICBkaXNwbGF5VGFza3ModGFza0FycmF5KTtcbiAgICAgICAgcmV0dXJuIHN0b3JlVGFza3ModGFza0FycmF5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhpZ2hQcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xuICAgICAgICB0YXNrQXJyYXkucHVzaChcbiAgICAgICAgICB0YXNrKHRhc2tUaXRsZS52YWx1ZSwgdGFza0Fib3V0LnZhbHVlLCBkYXRlLnZhbHVlLCBcImhpZ2hcIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICAgIGRpc3BsYXlUYXNrcyh0YXNrQXJyYXkpO1xuICAgICAgICByZXR1cm4gc3RvcmVUYXNrcyh0YXNrQXJyYXkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGxheVRhc2tzKGFycmF5KSB7XG4gICAgY29uc3QgdGFza0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWl0ZW1zXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFycmF5W2ldLmlkID0gXCJ0YXNrXCIgKyBpO1xuICAgICAgY29uc3QgaXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyhpdGVtRGl2LCBcIml0ZW1cIik7XG4gICAgICBpZiAoYXJyYXlbaV0ucHJpb3JpdHkgPT0gXCJsb3dcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJsb3ctcHJpb1wiKTtcbiAgICAgIGlmIChhcnJheVtpXS5wcmlvcml0eSA9PSBcIm1lZGl1bVwiKSBhZGRDbGFzcyhpdGVtRGl2LCBcIm1pZC1wcmlvXCIpO1xuICAgICAgaWYgKGFycmF5W2ldLnByaW9yaXR5ID09IFwiaGlnaFwiKSBhZGRDbGFzcyhpdGVtRGl2LCBcImhpZ2gtcHJpb1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQodGFza0l0ZW1zLCBpdGVtRGl2KTtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGl0ZW1EaXYsIGRpdik7XG4gICAgICBjb25zdCBjaGVja0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGNoZWNrQm94LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcbiAgICAgIGNoZWNrQm94LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjb25zdCB0YXNrVGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1RpdGxlRGl2LCBcInRhc2staGVhZGVyXCIpO1xuICAgICAgYWRkVGV4dFRvRWxlbWVudCh0YXNrVGl0bGVEaXYsIGFycmF5W2ldLnRpdGxlKTtcbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBhZGRDbGFzcyhkZWxldGVCdXR0b24sIFwiZGVsZXRlLWJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSBcIiZ0aW1lcztcIjtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBjaGVja0JveCk7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgdGFza1RpdGxlRGl2KTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBkZWxldGVCdXR0b24pO1xuICAgICAgY29uc3QgdGhpbkxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUsIFwidGhpbi1saW5lXCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0aGluTGluZSk7XG4gICAgICBjb25zdCB0YXNrSW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyh0YXNrSW5mb0RpdiwgXCJ0YXNrLWluZm9cIik7XG4gICAgICBhZGRUZXh0VG9FbGVtZW50KHRhc2tJbmZvRGl2LCBhcnJheVtpXS5kZXNjcmlwdGlvbik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGl0ZW1EaXYsIHRhc2tJbmZvRGl2KTtcbiAgICAgIGNvbnN0IHRoaW5MaW5lMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyh0aGluTGluZTEsIFwidGhpbi1saW5lXCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0aGluTGluZTEpO1xuICAgICAgY29uc3QgdGFza1N0YXR1c0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyh0YXNrU3RhdHVzRGl2LCBcInRhc2stc3RhdHVzXCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0YXNrU3RhdHVzRGl2KTtcbiAgICAgIGNvbnN0IGRhdGV5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiZGF0ZVwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGF0ZVwiKTtcbiAgICAgIGRhdGV5LnZhbHVlID0gYXJyYXlbaV0uZHVlRGF0ZTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQodGFza1N0YXR1c0RpdiwgZGF0ZXkpO1xuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGl0ZW1EaXYucmVtb3ZlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhc2tBcnJheSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG15QXJyYXkpO1xuICAgICAgICB0YXNrQXJyYXkgPSB0YXNrQXJyYXkuZmlsdGVyKCh0b2RvKSA9PiB7XG4gICAgICAgICAgaWYgKHRvZG8uaWQgIT09IHRhc2tBcnJheVtpXS5pZCkgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBzdG9yZVRhc2tzKHRhc2tBcnJheSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9yZVRhc2tzKGFycmF5KSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJteUFycmF5XCIsIEpTT04uc3RyaW5naWZ5KGFycmF5KSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYXNrcygpIHtcbiAgICBpZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXlBcnJheVwiKSkgcmV0dXJuO1xuICAgIG15QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm15QXJyYXlcIik7XG4gICAgbXlBcnJheSA9IEpTT04ucGFyc2UobXlBcnJheSk7XG4gICAgdGFza0FycmF5ID0gWy4uLnRhc2tBcnJheSwgLi4ubXlBcnJheV07XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9ucygpIHtcbiAgICBsb3dQcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuKTtcbiAgICBtZWRpdW1QcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyk7XG4gICAgaGlnaFByaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByaW9CdXR0b25zQWN0aXZlUmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlR3JlZW4oKSB7XG4gICAgYWRkQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdygpIHtcbiAgICBhZGRDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlUmVkKCkge1xuICAgIGFkZENsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlbkZvcm0oKSB7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHRhc2tBYm91dCwgXCJcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHRhc2tUaXRsZSwgXCJcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKGRhdGUsIFwiXCIpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZvcm1cIik7XG4gICAgYWRkQ2xhc3MoZm9ybSwgXCJhY3RpdmVcIik7XG4gICAgYWRkQ2xhc3Mob3ZlcmxheSwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZUZvcm0oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuZm9ybVwiKTtcbiAgICByZW1vdmVDbGFzcyhmb3JtLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhvdmVybGF5LCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RGb3JtKCkge1xuICAgIGFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9qZWN0Rm9ybSk7XG4gICAgY2FuY2VsUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQcm9qZWN0Rm9ybSk7XG4gICAgYWRkUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkUHJvamVjdFRpdGxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RUaXRsZSgpIHtcbiAgICBpZiAocHJvamVjdFRpdGxlSW5wdXQudmFsdWUgPT0gXCJcIikge1xuICAgICAgYWRkQ2xhc3ModGl0bGVFcnJvciwgXCJhY3RpdmVcIik7XG4gICAgICBzaG93RXJyb3IodGl0bGVFcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJvamVjdCB0aXRsZVwiKTtcbiAgICAgIGFkZENsYXNzKGFkZFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgICAgYWRkQ2xhc3MoY2FuY2VsUHJvamVjdCwgXCJhY3RpdmVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZENsYXNzKHByb2plY3RGb3JtLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoYWRkUHJvamVjdEJ1dHRvbiwgXCJoaWRlXCIpO1xuICAgIGNyZWF0ZVByb2plY3RzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0cygpIHtcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3QgY2xvc2VJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY2xvc2VJbWFnZS5zcmMgPSBcIkltYWdlcy9jbG9zZS1jaXJjbGUtb3V0bGluZS5zdmdcIjtcbiAgICBpbWFnZS5zcmMgPSBcIkltYWdlcy9mb3JtYXQtbGlzdC1jaGVja3Muc3ZnXCI7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGFkZFRleHRUb0VsZW1lbnQoc3BhbiwgcHJvamVjdFRpdGxlSW5wdXQudmFsdWUpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGltYWdlKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgc3Bhbik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGNsb3NlSW1hZ2UpO1xuICAgIGFkZENsYXNzKGRpdiwgXCJhLXByb2plY3RcIik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChzaWRlQmFyLCBkaXYpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VQcm9qZWN0Rm9ybSgpIHtcbiAgICBhZGRDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Qcm9qZWN0Rm9ybSgpIHtcbiAgICBjbGVhckZvcm1JbnB1dHMocHJvamVjdFRpdGxlSW5wdXQsIFwiXCIpO1xuICAgIGFkZENsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGNhbmNlbFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHRpdGxlRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihlbGVtZW50LCBtZXNzYWdlKSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckZvcm1JbnB1dHMoZWxlbWVudCwgY2xlYXIpIHtcbiAgICBlbGVtZW50LnZhbHVlID0gY2xlYXI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZFRvUGFyZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICBwYXJlbnQuYXBwZW5kKGNoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRleHRUb0VsZW1lbnQoZWxlbWVudCwgdGV4dCkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudHNCeUNsYXNzKGNsYXNzTmFtZSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuICAgIHdoaWxlIChlbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBlbGVtZW50c1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRzWzBdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxvYWRIb21lUGFnZSxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IFVJIH07XG4iLCJpbXBvcnQgeyBVSSB9IGZyb20gXCIuL01vZHVsZXMvcG9wLXVwLWZvcm1cIjtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIFVJLmxvYWRIb21lUGFnZSk7XG4iXSwibmFtZXMiOlsidGFzayIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJpc0RvbmUiLCJVSSIsInRhc2tBcnJheSIsIkFycmF5IiwibXlBcnJheSIsImFkZFRhc2tCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2FuY2VsQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvbiIsIm92ZXJsYXkiLCJsb3dQcmlvIiwibWVkaXVtUHJpbyIsImhpZ2hQcmlvIiwicHJpb0Vycm9yIiwidGFza1RpdGxlIiwidGFza0Fib3V0IiwiZGF0ZSIsImFkZFByb2plY3RCdXR0b24iLCJhZGRQcm9qZWN0IiwiY2FuY2VsUHJvamVjdCIsInByb2plY3RGb3JtIiwicHJvamVjdFRpdGxlSW5wdXQiLCJzaWRlQmFyIiwidGl0bGVFcnJvciIsImRpc3BsYXlUYXNrcyIsImFycmF5IiwidGFza0l0ZW1zIiwiaSIsImxlbmd0aCIsImlkIiwiaXRlbURpdiIsImNyZWF0ZUVsZW1lbnQiLCJhZGRDbGFzcyIsImFwcGVuZENoaWxkVG9QYXJlbnQiLCJkaXYiLCJjaGVja0JveCIsInNldEF0dHJpYnV0ZSIsInRhc2tUaXRsZURpdiIsImFkZFRleHRUb0VsZW1lbnQiLCJkZWxldGVCdXR0b24iLCJpbm5lckhUTUwiLCJ0aGluTGluZSIsInRhc2tJbmZvRGl2IiwidGhpbkxpbmUxIiwidGFza1N0YXR1c0RpdiIsImRhdGV5IiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiY29uc29sZSIsImxvZyIsImZpbHRlciIsInRvZG8iLCJzdG9yZVRhc2tzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuIiwicmVtb3ZlQ2xhc3MiLCJwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyIsInByaW9CdXR0b25zQWN0aXZlUmVkIiwib3BlbkZvcm0iLCJjbGVhckZvcm1JbnB1dHMiLCJjbG9zZUZvcm0iLCJhZGRQcm9qZWN0VGl0bGUiLCJzaG93RXJyb3IiLCJpbWFnZSIsImNsb3NlSW1hZ2UiLCJzcmMiLCJzcGFuIiwiY3JlYXRlUHJvamVjdHMiLCJjbG9zZVByb2plY3RGb3JtIiwib3BlblByb2plY3RGb3JtIiwiZWxlbWVudCIsImNsYXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJtZXNzYWdlIiwidGV4dENvbnRlbnQiLCJjbGVhciIsInBhcmVudCIsImNoaWxkIiwiYXBwZW5kIiwidGV4dCIsImxvYWRIb21lUGFnZSIsImNsYXNzTmFtZSIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUVsZW1lbnRzQnlDbGFzcyIsImFsZXJ0IiwiY29udGFpbnMiLCJwdXNoIiwiZ2V0SXRlbSIsInBhcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==