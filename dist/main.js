(()=>{"use strict";function e(e,t,c,n,i=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:i,getTitle:()=>e,getDescription:()=>t,getPriority:()=>n,toggle:()=>{i=!i},getDate:()=>c}}(()=>{let t=[];const c=document.getElementById("add-button"),n=document.querySelector(".cancel-button"),i=document.querySelector(".submit"),o=document.getElementById("overlay"),a=document.querySelector(".low"),r=document.querySelector(".medium"),d=document.querySelector(".high"),u=document.querySelector("span.error"),l=document.querySelector("[data-title]"),s=document.querySelector("[data-about]"),m=document.getElementById("due-date"),v=document.querySelector(".add-project-button"),y=document.querySelector("#add-project"),h=document.querySelector("#cancel-project"),p=document.querySelector(".projects"),g=document.getElementById("project"),E=document.querySelector(".sidebar"),f=document.querySelector(".title-error");function L(e){const t=document.querySelector(".task-items");for(let c=0;c<e.length;c++){e[c].id="task"+c;const n=document.createElement("div");B(n,"item"),"low"==e[c].priority&&B(n,"low-prio"),"medium"==e[c].priority&&B(n,"mid-prio"),"high"==e[c].priority&&B(n,"high-prio"),C(t,n);const i=document.createElement("div");C(n,i);const o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id","checkbox");const a=document.createElement("div");B(a,"task-header"),N(a,e[c].title);const r=document.createElement("button");B(r,"delete-button"),r.innerHTML="&times;",C(i,o),C(i,a),C(i,r);const d=document.createElement("div");B(d,"thin-line"),C(n,d);const u=document.createElement("div");B(u,"task-info"),N(u,e[c].description),C(n,u);const l=document.createElement("div");B(l,"thin-line"),C(n,l);const s=document.createElement("div");B(s,"task-status"),C(n,s);const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("name","date"),m.setAttribute("id","date"),m.value=e[c].dueDate,C(s,m),r.addEventListener("click",(()=>{n.remove(),e=e.filter((t=>t.id!==e[c].id))}))}}function S(){B(a,"active"),D(r,"active"),D(d,"active"),D(u,"active")}function k(){B(r,"active"),D(a,"active"),D(d,"active"),D(u,"active")}function q(){B(d,"active"),D(r,"active"),D(a,"active"),D(u,"active")}function b(){D(a,"active"),D(r,"active"),D(d,"active"),D(u,"active"),x(s,""),x(l,""),x(m,""),B(document.querySelector("div.form"),"active"),B(o,"active")}function I(){D(document.querySelector("div.form"),"active"),D(o,"active")}function j(){if(""==g.value)return B(f,"active"),P(f,"Please choose a project title"),B(y,"active"),void B(h,"active");B(p,"hide"),D(v,"hide"),function(){const e=document.createElement("img"),t=document.createElement("img");t.src="Images/close-circle-outline.svg",e.src="Images/format-list-checks.svg";const c=document.createElement("span");N(c,g.value);const n=document.createElement("div");C(n,e),C(n,c),C(n,t),B(n,"a-project"),C(E,n)}()}function A(){B(p,"hide"),D(v,"hide")}function w(){x(g,""),B(v,"hide"),D(p,"hide"),D(y,"active"),D(h,"active"),D(f,"active")}function B(e,t){e.classList.add(t)}function D(e,t){e.classList.remove(t)}function P(e,t){e.textContent=t}function x(e,t){e.value=t}function C(e,t){e.append(t)}function N(e,t){e.textContent=t}return{loadHomePage:function(){c.addEventListener("click",b),o.addEventListener("click",I),n.addEventListener("click",I),i.addEventListener("click",(()=>(function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==l.value||""==m.value?alert("Task Title is empty or you havent chose the due date"):a.classList.contains("active")||r.classList.contains("active")||d.classList.contains("active")?(a.classList.contains("active")&&(t.push(e(l.value,s.value,m.value,"low")),I()),r.classList.contains("active")&&(t.push(e(l.value,s.value,m.value,"medium")),I()),d.classList.contains("active")&&(t.push(e(l.value,s.value,m.value,"high")),I()),void L(t)):(B(u,"active"),void P(u,"Please choose a priority"))))),v.addEventListener("click",w),h.addEventListener("click",A),y.addEventListener("click",j),a.addEventListener("click",S),r.addEventListener("click",k),d.addEventListener("click",q),function(){window.addEventListener("beforeunload",(()=>{e.length>=t.length||localStorage.setItem("myArray",JSON.stringify(t))}));let e=localStorage.getItem("myArray");e=JSON.parse(e),L(e)}()}}})().loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25DTCxFQUFVRyxLQUFLRyxNQUFNTixHQUNyQmhFLEVBQWFnRSxHQXBIYk8sTUExQk8sR0NEUmxCLGdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL01vZHVsZXMvVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvTW9kdWxlcy9wb3AtdXAtZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBpc0RvbmUgPSBmYWxzZSkge1xuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gdGl0bGU7XG4gIH07XG5cbiAgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZHVlRGF0ZTtcbiAgfTtcblxuICBjb25zdCBnZXREZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gIH07XG5cbiAgY29uc3QgZ2V0UHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByaW9yaXR5O1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZSA9ICgpID0+IHtcbiAgICBpc0RvbmUgPSAhaXNEb25lO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZHVlRGF0ZSxcbiAgICBwcmlvcml0eSxcbiAgICBpc0RvbmUsXG4gICAgZ2V0VGl0bGUsXG4gICAgZ2V0RGVzY3JpcHRpb24sXG4gICAgZ2V0UHJpb3JpdHksXG4gICAgdG9nZ2xlLFxuICAgIGdldERhdGUsXG4gIH07XG59XG5cbmV4cG9ydCB7IHRhc2sgfTtcbiIsImltcG9ydCB7IHRhc2sgfSBmcm9tIFwiLi9UYXNrXCI7XG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgbGV0IHRhc2tBcnJheSA9IFtdO1xuICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYnV0dG9uXCIpO1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1idXR0b25cIik7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVybGF5XCIpO1xuICBjb25zdCBsb3dQcmlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3dcIik7XG4gIGNvbnN0IG1lZGl1bVByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bVwiKTtcbiAgY29uc3QgaGlnaFByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZ2hcIik7XG4gIGNvbnN0IHByaW9FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmVycm9yXCIpO1xuICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGVdXCIpO1xuICBjb25zdCB0YXNrQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYWJvdXRdXCIpO1xuICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWUtZGF0ZVwiKTtcbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3QtYnV0dG9uXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcHJvamVjdFwiKTtcbiAgY29uc3QgY2FuY2VsUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FuY2VsLXByb2plY3RcIik7XG4gIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKTtcbiAgY29uc3QgcHJvamVjdFRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIik7XG4gIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJcIik7XG4gIGNvbnN0IHRpdGxlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWVycm9yXCIpO1xuXG4gIGZ1bmN0aW9uIGxvYWRIb21lUGFnZSgpIHtcbiAgICBhZGRUYXNrKCk7XG4gICAgY2xvc2VUYXNrRm9ybSgpO1xuICAgIGFkZFByb2plY3RGb3JtKCk7XG4gICAgcHJpb0J1dHRvbnMoKTtcbiAgICBzdG9yZWRUYXNrcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICBhZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRm9ybSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhc2tGb3JtKCkge1xuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlRm9ybSk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUZvcm0pO1xuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgLy9yZW1vdmluZyBlbGVtZW50cyBzbyB0aGV5IGRvbnQgZHVwbGljYXRlXG4gICAgICByZW1vdmVFbGVtZW50c0J5Q2xhc3MoXCJpdGVtXCIpO1xuXG4gICAgICAvLyAgICAgSW5wdXQgRXJyb3JcblxuICAgICAgaWYgKHRhc2tUaXRsZS52YWx1ZSA9PSBcIlwiIHx8IGRhdGUudmFsdWUgPT0gXCJcIilcbiAgICAgICAgcmV0dXJuIGFsZXJ0KFwiVGFzayBUaXRsZSBpcyBlbXB0eSBvciB5b3UgaGF2ZW50IGNob3NlIHRoZSBkdWUgZGF0ZVwiKTtcblxuICAgICAgLy8gICAgIFByaW9yaXR5IEVycm9yXG5cbiAgICAgIGlmIChcbiAgICAgICAgIWxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmXG4gICAgICAgICFtZWRpdW1QcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhaGlnaFByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXG4gICAgICApIHtcbiAgICAgICAgYWRkQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgICAgc2hvd0Vycm9yKHByaW9FcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJpb3JpdHlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibG93XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaXVtUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJtZWRpdW1cIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaWdoUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJoaWdoXCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuICAgICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5VGFza3MoYXJyYXkpIHtcbiAgICBjb25zdCB0YXNrSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2staXRlbXNcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnJheVtpXS5pZCA9IFwidGFza1wiICsgaTtcbiAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3MoaXRlbURpdiwgXCJpdGVtXCIpO1xuICAgICAgaWYgKGFycmF5W2ldLnByaW9yaXR5ID09IFwibG93XCIpIGFkZENsYXNzKGl0ZW1EaXYsIFwibG93LXByaW9cIik7XG4gICAgICBpZiAoYXJyYXlbaV0ucHJpb3JpdHkgPT0gXCJtZWRpdW1cIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJtaWQtcHJpb1wiKTtcbiAgICAgIGlmIChhcnJheVtpXS5wcmlvcml0eSA9PSBcImhpZ2hcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJoaWdoLXByaW9cIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tJdGVtcywgaXRlbURpdik7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCBkaXYpO1xuICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgY29uc3QgdGFza1RpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tUaXRsZURpdiwgXCJ0YXNrLWhlYWRlclwiKTtcbiAgICAgIGFkZFRleHRUb0VsZW1lbnQodGFza1RpdGxlRGl2LCBhcnJheVtpXS50aXRsZSk7XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYWRkQ2xhc3MoZGVsZXRlQnV0dG9uLCBcImRlbGV0ZS1idXR0b25cIik7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gXCImdGltZXM7XCI7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgY2hlY2tCb3gpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIHRhc2tUaXRsZURpdik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgZGVsZXRlQnV0dG9uKTtcbiAgICAgIGNvbnN0IHRoaW5MaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRoaW5MaW5lLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUpO1xuICAgICAgY29uc3QgdGFza0luZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza0luZm9EaXYsIFwidGFzay1pbmZvXCIpO1xuICAgICAgYWRkVGV4dFRvRWxlbWVudCh0YXNrSW5mb0RpdiwgYXJyYXlbaV0uZGVzY3JpcHRpb24pO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0YXNrSW5mb0Rpdik7XG4gICAgICBjb25zdCB0aGluTGluZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUxLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUxKTtcbiAgICAgIGNvbnN0IHRhc2tTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1N0YXR1c0RpdiwgXCJ0YXNrLXN0YXR1c1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGFza1N0YXR1c0Rpdik7XG4gICAgICBjb25zdCBkYXRleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS52YWx1ZSA9IGFycmF5W2ldLmR1ZURhdGU7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tTdGF0dXNEaXYsIGRhdGV5KTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpdGVtRGl2LnJlbW92ZSgpO1xuICAgICAgICBhcnJheSA9IGFycmF5LmZpbHRlcigoaXRlbURpdikgPT4ge1xuICAgICAgICAgIHJldHVybiBpdGVtRGl2LmlkICE9PSBhcnJheVtpXS5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9yZWRUYXNrcygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICBpZiAobXlBcnJheS5sZW5ndGggPj0gdGFza0FycmF5Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJteUFycmF5XCIsIEpTT04uc3RyaW5naWZ5KHRhc2tBcnJheSkpO1xuICAgIH0pO1xuXG4gICAgbGV0IG15QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm15QXJyYXlcIik7XG4gICAgbXlBcnJheSA9IEpTT04ucGFyc2UobXlBcnJheSk7XG4gICAgZGlzcGxheVRhc2tzKG15QXJyYXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJpb0J1dHRvbnMoKSB7XG4gICAgbG93UHJpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcHJpb0J1dHRvbnNBY3RpdmVHcmVlbik7XG4gICAgbWVkaXVtUHJpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcHJpb0J1dHRvbnNBY3RpdmVZZWxsb3cpO1xuICAgIGhpZ2hQcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZVJlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuKCkge1xuICAgIGFkZENsYXNzKGxvd1ByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJpb0J1dHRvbnNBY3RpdmVZZWxsb3coKSB7XG4gICAgYWRkQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZVJlZCgpIHtcbiAgICBhZGRDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Gb3JtKCkge1xuICAgIHJlbW92ZUNsYXNzKGxvd1ByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICAgIGNsZWFyRm9ybUlucHV0cyh0YXNrQWJvdXQsIFwiXCIpO1xuICAgIGNsZWFyRm9ybUlucHV0cyh0YXNrVGl0bGUsIFwiXCIpO1xuICAgIGNsZWFyRm9ybUlucHV0cyhkYXRlLCBcIlwiKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5mb3JtXCIpO1xuICAgIGFkZENsYXNzKGZvcm0sIFwiYWN0aXZlXCIpO1xuICAgIGFkZENsYXNzKG92ZXJsYXksIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZvcm1cIik7XG4gICAgcmVtb3ZlQ2xhc3MoZm9ybSwgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3Mob3ZlcmxheSwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQcm9qZWN0Rm9ybSgpIHtcbiAgICBhZGRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUHJvamVjdEZvcm0pO1xuICAgIGNhbmNlbFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlUHJvamVjdEZvcm0pO1xuICAgIGFkZFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFkZFByb2plY3RUaXRsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQcm9qZWN0VGl0bGUoKSB7XG4gICAgaWYgKHByb2plY3RUaXRsZUlucHV0LnZhbHVlID09IFwiXCIpIHtcbiAgICAgIGFkZENsYXNzKHRpdGxlRXJyb3IsIFwiYWN0aXZlXCIpO1xuICAgICAgc2hvd0Vycm9yKHRpdGxlRXJyb3IsIFwiUGxlYXNlIGNob29zZSBhIHByb2plY3QgdGl0bGVcIik7XG4gICAgICBhZGRDbGFzcyhhZGRQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICAgIGFkZENsYXNzKGNhbmNlbFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZGRDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgICBjcmVhdGVQcm9qZWN0cygpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHMoKSB7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnN0IGNsb3NlSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNsb3NlSW1hZ2Uuc3JjID0gXCJJbWFnZXMvY2xvc2UtY2lyY2xlLW91dGxpbmUuc3ZnXCI7XG4gICAgaW1hZ2Uuc3JjID0gXCJJbWFnZXMvZm9ybWF0LWxpc3QtY2hlY2tzLnN2Z1wiO1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBhZGRUZXh0VG9FbGVtZW50KHNwYW4sIHByb2plY3RUaXRsZUlucHV0LnZhbHVlKTtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBpbWFnZSk7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIHNwYW4pO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBjbG9zZUltYWdlKTtcbiAgICBhZGRDbGFzcyhkaXYsIFwiYS1wcm9qZWN0XCIpO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoc2lkZUJhciwgZGl2KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlUHJvamVjdEZvcm0oKSB7XG4gICAgYWRkQ2xhc3MocHJvamVjdEZvcm0sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuUHJvamVjdEZvcm0oKSB7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHByb2plY3RUaXRsZUlucHV0LCBcIlwiKTtcbiAgICBhZGRDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJvamVjdEZvcm0sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhhZGRQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhjYW5jZWxQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyh0aXRsZUVycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXMpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhcyk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RXJyb3IoZWxlbWVudCwgbWVzc2FnZSkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJGb3JtSW5wdXRzKGVsZW1lbnQsIGNsZWFyKSB7XG4gICAgZWxlbWVudC52YWx1ZSA9IGNsZWFyO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGRUb1BhcmVudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgcGFyZW50LmFwcGVuZChjaGlsZCk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUZXh0VG9FbGVtZW50KGVsZW1lbnQsIHRleHQpIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRzQnlDbGFzcyhjbGFzc05hbWUpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcbiAgICB3aGlsZSAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgZWxlbWVudHNbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50c1swXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkSG9tZVBhZ2UsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBVSSB9O1xuIiwiaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi9Nb2R1bGVzL3BvcC11cC1mb3JtXCI7XG5VSS5sb2FkSG9tZVBhZ2UoKTtcbiJdLCJuYW1lcyI6WyJ0YXNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImlzRG9uZSIsImdldFRpdGxlIiwiZ2V0RGVzY3JpcHRpb24iLCJnZXRQcmlvcml0eSIsInRvZ2dsZSIsImdldERhdGUiLCJ0YXNrQXJyYXkiLCJhZGRUYXNrQnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbmNlbEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXRCdXR0b24iLCJvdmVybGF5IiwibG93UHJpbyIsIm1lZGl1bVByaW8iLCJoaWdoUHJpbyIsInByaW9FcnJvciIsInRhc2tUaXRsZSIsInRhc2tBYm91dCIsImRhdGUiLCJhZGRQcm9qZWN0QnV0dG9uIiwiYWRkUHJvamVjdCIsImNhbmNlbFByb2plY3QiLCJwcm9qZWN0Rm9ybSIsInByb2plY3RUaXRsZUlucHV0Iiwic2lkZUJhciIsInRpdGxlRXJyb3IiLCJkaXNwbGF5VGFza3MiLCJhcnJheSIsInRhc2tJdGVtcyIsImkiLCJsZW5ndGgiLCJpZCIsIml0ZW1EaXYiLCJjcmVhdGVFbGVtZW50IiwiYWRkQ2xhc3MiLCJhcHBlbmRDaGlsZFRvUGFyZW50IiwiZGl2IiwiY2hlY2tCb3giLCJzZXRBdHRyaWJ1dGUiLCJ0YXNrVGl0bGVEaXYiLCJhZGRUZXh0VG9FbGVtZW50IiwiZGVsZXRlQnV0dG9uIiwiaW5uZXJIVE1MIiwidGhpbkxpbmUiLCJ0YXNrSW5mb0RpdiIsInRoaW5MaW5lMSIsInRhc2tTdGF0dXNEaXYiLCJkYXRleSIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImZpbHRlciIsInByaW9CdXR0b25zQWN0aXZlR3JlZW4iLCJyZW1vdmVDbGFzcyIsInByaW9CdXR0b25zQWN0aXZlWWVsbG93IiwicHJpb0J1dHRvbnNBY3RpdmVSZWQiLCJvcGVuRm9ybSIsImNsZWFyRm9ybUlucHV0cyIsImNsb3NlRm9ybSIsImFkZFByb2plY3RUaXRsZSIsInNob3dFcnJvciIsImltYWdlIiwiY2xvc2VJbWFnZSIsInNyYyIsInNwYW4iLCJjcmVhdGVQcm9qZWN0cyIsImNsb3NlUHJvamVjdEZvcm0iLCJvcGVuUHJvamVjdEZvcm0iLCJlbGVtZW50IiwiY2xhcyIsImNsYXNzTGlzdCIsImFkZCIsIm1lc3NhZ2UiLCJ0ZXh0Q29udGVudCIsImNsZWFyIiwicGFyZW50IiwiY2hpbGQiLCJhcHBlbmQiLCJ0ZXh0IiwibG9hZEhvbWVQYWdlIiwiY2xhc3NOYW1lIiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRWxlbWVudHNCeUNsYXNzIiwiYWxlcnQiLCJjb250YWlucyIsInB1c2giLCJ3aW5kb3ciLCJteUFycmF5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRJdGVtIiwicGFyc2UiLCJzdG9yZWRUYXNrcyJdLCJzb3VyY2VSb290IjoiIn0=