(()=>{"use strict";function e(e,t,c,n,i=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:i,getTitle:()=>e,getDescription:()=>t,getPriority:()=>n,toggle:()=>{i=!i},getDate:()=>c}}(()=>{let t=[];const c=document.getElementById("add-button"),n=document.querySelector(".cancel-button"),i=document.querySelector(".submit"),o=document.getElementById("overlay"),a=document.querySelector(".low"),r=document.querySelector(".medium"),d=document.querySelector(".high"),u=document.querySelector("span.error"),l=document.querySelector("[data-title]"),s=document.querySelector("[data-about]"),m=document.getElementById("due-date"),v=document.querySelector(".add-project-button"),y=document.querySelector("#add-project"),h=document.querySelector("#cancel-project"),g=document.querySelector(".projects"),p=document.getElementById("project"),E=document.querySelector(".sidebar"),f=document.querySelector(".title-error");function L(e){const t=document.querySelector(".task-items");for(let c=0;c<e.length;c++){e[c].id="task"+c;const n=document.createElement("div");B(n,"item"),"low"==e[c].priority&&B(n,"low-prio"),"medium"==e[c].priority&&B(n,"mid-prio"),"high"==e[c].priority&&B(n,"high-prio"),C(t,n);const i=document.createElement("div");C(n,i);const o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id","checkbox");const a=document.createElement("div");B(a,"task-header"),N(a,e[c].title);const r=document.createElement("button");B(r,"delete-button"),r.innerHTML="&times;",C(i,o),C(i,a),C(i,r);const d=document.createElement("div");B(d,"thin-line"),C(n,d);const u=document.createElement("div");B(u,"task-info"),N(u,e[c].description),C(n,u);const l=document.createElement("div");B(l,"thin-line"),C(n,l);const s=document.createElement("div");B(s,"task-status"),C(n,s);const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("name","date"),m.setAttribute("id","date"),m.value=e[c].dueDate,C(s,m),r.addEventListener("click",(()=>{n.remove(),e=e.filter((t=>t.id!==e[c].id))}))}}function S(){B(a,"active"),D(r,"active"),D(d,"active"),D(u,"active")}function k(){B(r,"active"),D(a,"active"),D(d,"active"),D(u,"active")}function q(){B(d,"active"),D(r,"active"),D(a,"active"),D(u,"active")}function b(){D(a,"active"),D(r,"active"),D(d,"active"),D(u,"active"),x(s,""),x(l,""),x(m,""),B(document.querySelector("div.form"),"active"),B(o,"active")}function I(){D(document.querySelector("div.form"),"active"),D(o,"active")}function j(){if(""==p.value)return B(f,"active"),P(f,"Please choose a project title"),B(y,"active"),void B(h,"active");B(g,"hide"),D(v,"hide"),function(){const e=document.createElement("img"),t=document.createElement("img");t.src="Images/close-circle-outline.svg",e.src="Images/format-list-checks.svg";const c=document.createElement("span");N(c,p.value);const n=document.createElement("div");C(n,e),C(n,c),C(n,t),B(n,"a-project"),C(E,n)}()}function A(){B(g,"hide"),D(v,"hide")}function w(){x(p,""),B(v,"hide"),D(g,"hide"),D(y,"active"),D(h,"active"),D(f,"active")}function B(e,t){e.classList.add(t)}function D(e,t){e.classList.remove(t)}function P(e,t){e.textContent=t}function x(e,t){e.value=t}function C(e,t){e.append(t)}function N(e,t){e.textContent=t}return{loadHomePage:function(){c.addEventListener("click",b),o.addEventListener("click",I),n.addEventListener("click",I),i.addEventListener("click",(()=>(function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==l.value||""==m.value?alert("Task Title is empty or you havent chose the due date"):a.classList.contains("active")||r.classList.contains("active")||d.classList.contains("active")?(a.classList.contains("active")&&(t.push(e(l.value,s.value,m.value,"low")),I()),r.classList.contains("active")&&(t.push(e(l.value,s.value,m.value,"medium")),I()),d.classList.contains("active")&&(t.push(e(l.value,s.value,m.value,"high")),I()),void L(t)):(B(u,"active"),void P(u,"Please choose a priority"))))),v.addEventListener("click",w),h.addEventListener("click",A),y.addEventListener("click",j),a.addEventListener("click",S),r.addEventListener("click",k),d.addEventListener("click",q),function(){window.addEventListener("beforeunload",(()=>{e.length>t.length||localStorage.setItem("myArray",JSON.stringify(t))}));let e=localStorage.getItem("myArray");e=JSON.parse(e),console.log(e),L(e)}()}}})().loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25DTCxFQUFVRyxLQUFLRyxNQUFNTixHQUNyQk8sUUFBUUMsSUFBSVIsR0FDWmhFLEVBQWFnRSxHQXJIYlMsTUExQk8sR0NEUnBCLGdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL01vZHVsZXMvVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvTW9kdWxlcy9wb3AtdXAtZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBpc0RvbmUgPSBmYWxzZSkge1xuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gdGl0bGU7XG4gIH07XG5cbiAgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZHVlRGF0ZTtcbiAgfTtcblxuICBjb25zdCBnZXREZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gIH07XG5cbiAgY29uc3QgZ2V0UHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByaW9yaXR5O1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZSA9ICgpID0+IHtcbiAgICBpc0RvbmUgPSAhaXNEb25lO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZHVlRGF0ZSxcbiAgICBwcmlvcml0eSxcbiAgICBpc0RvbmUsXG4gICAgZ2V0VGl0bGUsXG4gICAgZ2V0RGVzY3JpcHRpb24sXG4gICAgZ2V0UHJpb3JpdHksXG4gICAgdG9nZ2xlLFxuICAgIGdldERhdGUsXG4gIH07XG59XG5cbmV4cG9ydCB7IHRhc2sgfTtcbiIsImltcG9ydCB7IHRhc2sgfSBmcm9tIFwiLi9UYXNrXCI7XG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgbGV0IHRhc2tBcnJheSA9IFtdO1xuICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYnV0dG9uXCIpO1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1idXR0b25cIik7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVybGF5XCIpO1xuICBjb25zdCBsb3dQcmlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3dcIik7XG4gIGNvbnN0IG1lZGl1bVByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bVwiKTtcbiAgY29uc3QgaGlnaFByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZ2hcIik7XG4gIGNvbnN0IHByaW9FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmVycm9yXCIpO1xuICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGVdXCIpO1xuICBjb25zdCB0YXNrQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYWJvdXRdXCIpO1xuICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWUtZGF0ZVwiKTtcbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3QtYnV0dG9uXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcHJvamVjdFwiKTtcbiAgY29uc3QgY2FuY2VsUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FuY2VsLXByb2plY3RcIik7XG4gIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKTtcbiAgY29uc3QgcHJvamVjdFRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIik7XG4gIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJcIik7XG4gIGNvbnN0IHRpdGxlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWVycm9yXCIpO1xuXG4gIGZ1bmN0aW9uIGxvYWRIb21lUGFnZSgpIHtcbiAgICBhZGRUYXNrKCk7XG4gICAgY2xvc2VUYXNrRm9ybSgpO1xuICAgIGFkZFByb2plY3RGb3JtKCk7XG4gICAgcHJpb0J1dHRvbnMoKTtcbiAgICBzdG9yZWRUYXNrcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICBhZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRm9ybSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhc2tGb3JtKCkge1xuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlRm9ybSk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUZvcm0pO1xuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgLy9yZW1vdmluZyBlbGVtZW50cyBzbyB0aGV5IGRvbnQgZHVwbGljYXRlXG4gICAgICByZW1vdmVFbGVtZW50c0J5Q2xhc3MoXCJpdGVtXCIpO1xuXG4gICAgICAvLyAgICAgSW5wdXQgRXJyb3JcblxuICAgICAgaWYgKHRhc2tUaXRsZS52YWx1ZSA9PSBcIlwiIHx8IGRhdGUudmFsdWUgPT0gXCJcIilcbiAgICAgICAgcmV0dXJuIGFsZXJ0KFwiVGFzayBUaXRsZSBpcyBlbXB0eSBvciB5b3UgaGF2ZW50IGNob3NlIHRoZSBkdWUgZGF0ZVwiKTtcblxuICAgICAgLy8gICAgIFByaW9yaXR5IEVycm9yXG5cbiAgICAgIGlmIChcbiAgICAgICAgIWxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmXG4gICAgICAgICFtZWRpdW1QcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhaGlnaFByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXG4gICAgICApIHtcbiAgICAgICAgYWRkQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgICAgc2hvd0Vycm9yKHByaW9FcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJpb3JpdHlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibG93XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaXVtUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJtZWRpdW1cIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaWdoUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJoaWdoXCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuICAgICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5VGFza3MoYXJyYXkpIHtcbiAgICBjb25zdCB0YXNrSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2staXRlbXNcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnJheVtpXS5pZCA9IFwidGFza1wiICsgaTtcbiAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3MoaXRlbURpdiwgXCJpdGVtXCIpO1xuICAgICAgaWYgKGFycmF5W2ldLnByaW9yaXR5ID09IFwibG93XCIpIGFkZENsYXNzKGl0ZW1EaXYsIFwibG93LXByaW9cIik7XG4gICAgICBpZiAoYXJyYXlbaV0ucHJpb3JpdHkgPT0gXCJtZWRpdW1cIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJtaWQtcHJpb1wiKTtcbiAgICAgIGlmIChhcnJheVtpXS5wcmlvcml0eSA9PSBcImhpZ2hcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJoaWdoLXByaW9cIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tJdGVtcywgaXRlbURpdik7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCBkaXYpO1xuICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgY29uc3QgdGFza1RpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tUaXRsZURpdiwgXCJ0YXNrLWhlYWRlclwiKTtcbiAgICAgIGFkZFRleHRUb0VsZW1lbnQodGFza1RpdGxlRGl2LCBhcnJheVtpXS50aXRsZSk7XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYWRkQ2xhc3MoZGVsZXRlQnV0dG9uLCBcImRlbGV0ZS1idXR0b25cIik7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gXCImdGltZXM7XCI7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgY2hlY2tCb3gpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIHRhc2tUaXRsZURpdik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgZGVsZXRlQnV0dG9uKTtcbiAgICAgIGNvbnN0IHRoaW5MaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRoaW5MaW5lLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUpO1xuICAgICAgY29uc3QgdGFza0luZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza0luZm9EaXYsIFwidGFzay1pbmZvXCIpO1xuICAgICAgYWRkVGV4dFRvRWxlbWVudCh0YXNrSW5mb0RpdiwgYXJyYXlbaV0uZGVzY3JpcHRpb24pO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0YXNrSW5mb0Rpdik7XG4gICAgICBjb25zdCB0aGluTGluZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUxLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUxKTtcbiAgICAgIGNvbnN0IHRhc2tTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1N0YXR1c0RpdiwgXCJ0YXNrLXN0YXR1c1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGFza1N0YXR1c0Rpdik7XG4gICAgICBjb25zdCBkYXRleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS52YWx1ZSA9IGFycmF5W2ldLmR1ZURhdGU7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tTdGF0dXNEaXYsIGRhdGV5KTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpdGVtRGl2LnJlbW92ZSgpO1xuICAgICAgICBhcnJheSA9IGFycmF5LmZpbHRlcigoaXRlbURpdikgPT4ge1xuICAgICAgICAgIHJldHVybiBpdGVtRGl2LmlkICE9PSBhcnJheVtpXS5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9yZWRUYXNrcygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICBpZiAobXlBcnJheS5sZW5ndGggPiB0YXNrQXJyYXkubGVuZ3RoKSByZXR1cm47XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm15QXJyYXlcIiwgSlNPTi5zdHJpbmdpZnkodGFza0FycmF5KSk7XG4gICAgfSk7XG5cbiAgICBsZXQgbXlBcnJheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXlBcnJheVwiKTtcbiAgICBteUFycmF5ID0gSlNPTi5wYXJzZShteUFycmF5KTtcbiAgICBjb25zb2xlLmxvZyhteUFycmF5KTtcbiAgICBkaXNwbGF5VGFza3MobXlBcnJheSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9ucygpIHtcbiAgICBsb3dQcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuKTtcbiAgICBtZWRpdW1QcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyk7XG4gICAgaGlnaFByaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByaW9CdXR0b25zQWN0aXZlUmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlR3JlZW4oKSB7XG4gICAgYWRkQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdygpIHtcbiAgICBhZGRDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlUmVkKCkge1xuICAgIGFkZENsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlbkZvcm0oKSB7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHRhc2tBYm91dCwgXCJcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHRhc2tUaXRsZSwgXCJcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKGRhdGUsIFwiXCIpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZvcm1cIik7XG4gICAgYWRkQ2xhc3MoZm9ybSwgXCJhY3RpdmVcIik7XG4gICAgYWRkQ2xhc3Mob3ZlcmxheSwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZUZvcm0oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuZm9ybVwiKTtcbiAgICByZW1vdmVDbGFzcyhmb3JtLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhvdmVybGF5LCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RGb3JtKCkge1xuICAgIGFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9qZWN0Rm9ybSk7XG4gICAgY2FuY2VsUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQcm9qZWN0Rm9ybSk7XG4gICAgYWRkUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkUHJvamVjdFRpdGxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RUaXRsZSgpIHtcbiAgICBpZiAocHJvamVjdFRpdGxlSW5wdXQudmFsdWUgPT0gXCJcIikge1xuICAgICAgYWRkQ2xhc3ModGl0bGVFcnJvciwgXCJhY3RpdmVcIik7XG4gICAgICBzaG93RXJyb3IodGl0bGVFcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJvamVjdCB0aXRsZVwiKTtcbiAgICAgIGFkZENsYXNzKGFkZFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgICAgYWRkQ2xhc3MoY2FuY2VsUHJvamVjdCwgXCJhY3RpdmVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZENsYXNzKHByb2plY3RGb3JtLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoYWRkUHJvamVjdEJ1dHRvbiwgXCJoaWRlXCIpO1xuICAgIGNyZWF0ZVByb2plY3RzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0cygpIHtcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3QgY2xvc2VJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY2xvc2VJbWFnZS5zcmMgPSBcIkltYWdlcy9jbG9zZS1jaXJjbGUtb3V0bGluZS5zdmdcIjtcbiAgICBpbWFnZS5zcmMgPSBcIkltYWdlcy9mb3JtYXQtbGlzdC1jaGVja3Muc3ZnXCI7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGFkZFRleHRUb0VsZW1lbnQoc3BhbiwgcHJvamVjdFRpdGxlSW5wdXQudmFsdWUpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGltYWdlKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgc3Bhbik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGNsb3NlSW1hZ2UpO1xuICAgIGFkZENsYXNzKGRpdiwgXCJhLXByb2plY3RcIik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChzaWRlQmFyLCBkaXYpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VQcm9qZWN0Rm9ybSgpIHtcbiAgICBhZGRDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Qcm9qZWN0Rm9ybSgpIHtcbiAgICBjbGVhckZvcm1JbnB1dHMocHJvamVjdFRpdGxlSW5wdXQsIFwiXCIpO1xuICAgIGFkZENsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGNhbmNlbFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHRpdGxlRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihlbGVtZW50LCBtZXNzYWdlKSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckZvcm1JbnB1dHMoZWxlbWVudCwgY2xlYXIpIHtcbiAgICBlbGVtZW50LnZhbHVlID0gY2xlYXI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZFRvUGFyZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICBwYXJlbnQuYXBwZW5kKGNoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRleHRUb0VsZW1lbnQoZWxlbWVudCwgdGV4dCkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudHNCeUNsYXNzKGNsYXNzTmFtZSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuICAgIHdoaWxlIChlbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBlbGVtZW50c1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRzWzBdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxvYWRIb21lUGFnZSxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IFVJIH07XG4iLCJpbXBvcnQgeyBVSSB9IGZyb20gXCIuL01vZHVsZXMvcG9wLXVwLWZvcm1cIjtcblVJLmxvYWRIb21lUGFnZSgpO1xuIl0sIm5hbWVzIjpbInRhc2siLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiaXNEb25lIiwiZ2V0VGl0bGUiLCJnZXREZXNjcmlwdGlvbiIsImdldFByaW9yaXR5IiwidG9nZ2xlIiwiZ2V0RGF0ZSIsInRhc2tBcnJheSIsImFkZFRhc2tCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2FuY2VsQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvbiIsIm92ZXJsYXkiLCJsb3dQcmlvIiwibWVkaXVtUHJpbyIsImhpZ2hQcmlvIiwicHJpb0Vycm9yIiwidGFza1RpdGxlIiwidGFza0Fib3V0IiwiZGF0ZSIsImFkZFByb2plY3RCdXR0b24iLCJhZGRQcm9qZWN0IiwiY2FuY2VsUHJvamVjdCIsInByb2plY3RGb3JtIiwicHJvamVjdFRpdGxlSW5wdXQiLCJzaWRlQmFyIiwidGl0bGVFcnJvciIsImRpc3BsYXlUYXNrcyIsImFycmF5IiwidGFza0l0ZW1zIiwiaSIsImxlbmd0aCIsImlkIiwiaXRlbURpdiIsImNyZWF0ZUVsZW1lbnQiLCJhZGRDbGFzcyIsImFwcGVuZENoaWxkVG9QYXJlbnQiLCJkaXYiLCJjaGVja0JveCIsInNldEF0dHJpYnV0ZSIsInRhc2tUaXRsZURpdiIsImFkZFRleHRUb0VsZW1lbnQiLCJkZWxldGVCdXR0b24iLCJpbm5lckhUTUwiLCJ0aGluTGluZSIsInRhc2tJbmZvRGl2IiwidGhpbkxpbmUxIiwidGFza1N0YXR1c0RpdiIsImRhdGV5IiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZmlsdGVyIiwicHJpb0J1dHRvbnNBY3RpdmVHcmVlbiIsInJlbW92ZUNsYXNzIiwicHJpb0J1dHRvbnNBY3RpdmVZZWxsb3ciLCJwcmlvQnV0dG9uc0FjdGl2ZVJlZCIsIm9wZW5Gb3JtIiwiY2xlYXJGb3JtSW5wdXRzIiwiY2xvc2VGb3JtIiwiYWRkUHJvamVjdFRpdGxlIiwic2hvd0Vycm9yIiwiaW1hZ2UiLCJjbG9zZUltYWdlIiwic3JjIiwic3BhbiIsImNyZWF0ZVByb2plY3RzIiwiY2xvc2VQcm9qZWN0Rm9ybSIsIm9wZW5Qcm9qZWN0Rm9ybSIsImVsZW1lbnQiLCJjbGFzIiwiY2xhc3NMaXN0IiwiYWRkIiwibWVzc2FnZSIsInRleHRDb250ZW50IiwiY2xlYXIiLCJwYXJlbnQiLCJjaGlsZCIsImFwcGVuZCIsInRleHQiLCJsb2FkSG9tZVBhZ2UiLCJjbGFzc05hbWUiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFbGVtZW50c0J5Q2xhc3MiLCJhbGVydCIsImNvbnRhaW5zIiwicHVzaCIsIndpbmRvdyIsIm15QXJyYXkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldEl0ZW0iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJzdG9yZWRUYXNrcyJdLCJzb3VyY2VSb290IjoiIn0=