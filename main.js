(()=>{"use strict";function e(e,t,c,n,i=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:i,getTitle:()=>e,getDescription:()=>t,getPriority:()=>n,toggle:()=>{i=!i},getDate:()=>c}}(()=>{let t=[],c=[];const n=document.getElementById("add-button"),i=document.querySelector(".cancel-button"),o=document.querySelector(".submit"),a=document.getElementById("overlay"),r=document.querySelector(".low"),d=document.querySelector(".medium"),u=document.querySelector(".high"),l=document.querySelector("span.error"),s=document.querySelector("[data-title]"),m=document.querySelector("[data-about]"),v=document.getElementById("due-date"),y=document.querySelector(".add-project-button"),g=document.querySelector("#add-project"),h=document.querySelector("#cancel-project"),p=document.querySelector(".projects"),E=document.getElementById("project"),f=document.querySelector(".sidebar"),L=document.querySelector(".title-error");function S(e){const t=document.querySelector(".task-items");for(let c=0;c<e.length;c++){e[c].id="task"+c;const n=document.createElement("div");D(n,"item"),"low"==e[c].priority&&D(n,"low-prio"),"medium"==e[c].priority&&D(n,"mid-prio"),"high"==e[c].priority&&D(n,"high-prio"),N(t,n);const i=document.createElement("div");N(n,i);const o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("id","checkbox");const a=document.createElement("div");D(a,"task-header"),T(a,e[c].title);const r=document.createElement("button");D(r,"delete-button"),r.innerHTML="&times;",N(i,o),N(i,a),N(i,r);const d=document.createElement("div");D(d,"thin-line"),N(n,d);const u=document.createElement("div");D(u,"task-info"),T(u,e[c].description),N(n,u);const l=document.createElement("div");D(l,"thin-line"),N(n,l);const s=document.createElement("div");D(s,"task-status"),N(n,s);const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("name","date"),m.setAttribute("id","date"),m.value=e[c].dueDate,N(s,m),r.addEventListener("click",(()=>{n.remove(),e=e.filter((t=>t.id!==e[c].id))}))}}function k(){D(r,"active"),P(d,"active"),P(u,"active"),P(l,"active")}function q(){D(d,"active"),P(r,"active"),P(u,"active"),P(l,"active")}function b(){D(u,"active"),P(d,"active"),P(r,"active"),P(l,"active")}function I(){P(r,"active"),P(d,"active"),P(u,"active"),P(l,"active"),C(m,""),C(s,""),C(v,""),D(document.querySelector("div.form"),"active"),D(a,"active")}function j(){P(document.querySelector("div.form"),"active"),P(a,"active")}function A(){if(""==E.value)return D(L,"active"),x(L,"Please choose a project title"),D(g,"active"),void D(h,"active");D(p,"hide"),P(y,"hide"),function(){const e=document.createElement("img"),t=document.createElement("img");t.src="Images/close-circle-outline.svg",e.src="Images/format-list-checks.svg";const c=document.createElement("span");T(c,E.value);const n=document.createElement("div");N(n,e),N(n,c),N(n,t),D(n,"a-project"),N(f,n)}()}function w(){D(p,"hide"),P(y,"hide")}function B(){C(E,""),D(y,"hide"),P(p,"hide"),P(g,"active"),P(h,"active"),P(L,"active")}function D(e,t){e.classList.add(t)}function P(e,t){e.classList.remove(t)}function x(e,t){e.textContent=t}function C(e,t){e.value=t}function N(e,t){e.append(t)}function T(e,t){e.textContent=t}return{loadHomePage:function(){n.addEventListener("click",I),a.addEventListener("click",j),i.addEventListener("click",j),o.addEventListener("click",(()=>(t.length||(t=t.concat(c)),function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==s.value||""==v.value?alert("Task Title is empty or you havent chose the due date"):r.classList.contains("active")||d.classList.contains("active")||u.classList.contains("active")?(r.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"low")),j()),d.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"medium")),j()),u.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"high")),j()),S(t),console.log(t),void console.log(c)):(D(l,"active"),void x(l,"Please choose a priority"))))),y.addEventListener("click",B),h.addEventListener("click",w),g.addEventListener("click",A),r.addEventListener("click",k),d.addEventListener("click",q),u.addEventListener("click",b),window.addEventListener("beforeunload",(()=>{c.length>=t.length||localStorage.setItem("myArray",JSON.stringify(t))})),c=localStorage.getItem("myArray"),c=JSON.parse(c),S(c)}}})().loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEIsUUFBVTNCLEVBQVUyQixRQUNoQytELGFBQWFDLFFBQVEsVUFBV0MsS0FBS0MsVUFBVTdGLE9BR2pEQyxFQUFVeUYsYUFBYUksUUFBUSxXQUMvQjdGLEVBQVUyRixLQUFLRyxNQUFNOUYsR0FDckJzQixFQUFhdEIsTUFsSk4sR0NEUjJFLGdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL01vZHVsZXMvVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvTW9kdWxlcy9wb3AtdXAtZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBpc0RvbmUgPSBmYWxzZSkge1xuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gdGl0bGU7XG4gIH07XG5cbiAgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZHVlRGF0ZTtcbiAgfTtcblxuICBjb25zdCBnZXREZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gIH07XG5cbiAgY29uc3QgZ2V0UHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByaW9yaXR5O1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZSA9ICgpID0+IHtcbiAgICBpc0RvbmUgPSAhaXNEb25lO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZHVlRGF0ZSxcbiAgICBwcmlvcml0eSxcbiAgICBpc0RvbmUsXG4gICAgZ2V0VGl0bGUsXG4gICAgZ2V0RGVzY3JpcHRpb24sXG4gICAgZ2V0UHJpb3JpdHksXG4gICAgdG9nZ2xlLFxuICAgIGdldERhdGUsXG4gIH07XG59XG5cbmV4cG9ydCB7IHRhc2sgfTtcbiIsImltcG9ydCB7IHRhc2sgfSBmcm9tIFwiLi9UYXNrXCI7XG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgbGV0IHRhc2tBcnJheSA9IFtdO1xuICBsZXQgbXlBcnJheSA9IFtdO1xuICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYnV0dG9uXCIpO1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1idXR0b25cIik7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVybGF5XCIpO1xuICBjb25zdCBsb3dQcmlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3dcIik7XG4gIGNvbnN0IG1lZGl1bVByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bVwiKTtcbiAgY29uc3QgaGlnaFByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZ2hcIik7XG4gIGNvbnN0IHByaW9FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmVycm9yXCIpO1xuICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGVdXCIpO1xuICBjb25zdCB0YXNrQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYWJvdXRdXCIpO1xuICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWUtZGF0ZVwiKTtcbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3QtYnV0dG9uXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcHJvamVjdFwiKTtcbiAgY29uc3QgY2FuY2VsUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FuY2VsLXByb2plY3RcIik7XG4gIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKTtcbiAgY29uc3QgcHJvamVjdFRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIik7XG4gIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJcIik7XG4gIGNvbnN0IHRpdGxlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWVycm9yXCIpO1xuXG4gIGZ1bmN0aW9uIGxvYWRIb21lUGFnZSgpIHtcbiAgICBhZGRUYXNrKCk7XG4gICAgY2xvc2VUYXNrRm9ybSgpO1xuICAgIGFkZFByb2plY3RGb3JtKCk7XG4gICAgcHJpb0J1dHRvbnMoKTtcbiAgICBzdG9yZWRUYXNrcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICBhZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRm9ybSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhc2tGb3JtKCkge1xuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlRm9ybSk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUZvcm0pO1xuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKCF0YXNrQXJyYXkubGVuZ3RoKSB0YXNrQXJyYXkgPSB0YXNrQXJyYXkuY29uY2F0KG15QXJyYXkpO1xuICAgICAgLy9yZW1vdmluZyBlbGVtZW50cyBzbyB0aGV5IGRvbnQgZHVwbGljYXRlXG4gICAgICByZW1vdmVFbGVtZW50c0J5Q2xhc3MoXCJpdGVtXCIpO1xuXG4gICAgICAvLyAgICAgSW5wdXQgRXJyb3JcblxuICAgICAgaWYgKHRhc2tUaXRsZS52YWx1ZSA9PSBcIlwiIHx8IGRhdGUudmFsdWUgPT0gXCJcIilcbiAgICAgICAgcmV0dXJuIGFsZXJ0KFwiVGFzayBUaXRsZSBpcyBlbXB0eSBvciB5b3UgaGF2ZW50IGNob3NlIHRoZSBkdWUgZGF0ZVwiKTtcblxuICAgICAgLy8gICAgIFByaW9yaXR5IEVycm9yXG5cbiAgICAgIGlmIChcbiAgICAgICAgIWxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmXG4gICAgICAgICFtZWRpdW1QcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhaGlnaFByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXG4gICAgICApIHtcbiAgICAgICAgYWRkQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgICAgc2hvd0Vycm9yKHByaW9FcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJpb3JpdHlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibG93XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaXVtUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJtZWRpdW1cIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaWdoUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJoaWdoXCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuICAgICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheSk7XG4gICAgICBjb25zb2xlLmxvZyh0YXNrQXJyYXkpO1xuICAgICAgY29uc29sZS5sb2cobXlBcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5VGFza3MoYXJyYXkpIHtcbiAgICBjb25zdCB0YXNrSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2staXRlbXNcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnJheVtpXS5pZCA9IFwidGFza1wiICsgaTtcbiAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3MoaXRlbURpdiwgXCJpdGVtXCIpO1xuICAgICAgaWYgKGFycmF5W2ldLnByaW9yaXR5ID09IFwibG93XCIpIGFkZENsYXNzKGl0ZW1EaXYsIFwibG93LXByaW9cIik7XG4gICAgICBpZiAoYXJyYXlbaV0ucHJpb3JpdHkgPT0gXCJtZWRpdW1cIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJtaWQtcHJpb1wiKTtcbiAgICAgIGlmIChhcnJheVtpXS5wcmlvcml0eSA9PSBcImhpZ2hcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJoaWdoLXByaW9cIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tJdGVtcywgaXRlbURpdik7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCBkaXYpO1xuICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgY29uc3QgdGFza1RpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tUaXRsZURpdiwgXCJ0YXNrLWhlYWRlclwiKTtcbiAgICAgIGFkZFRleHRUb0VsZW1lbnQodGFza1RpdGxlRGl2LCBhcnJheVtpXS50aXRsZSk7XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYWRkQ2xhc3MoZGVsZXRlQnV0dG9uLCBcImRlbGV0ZS1idXR0b25cIik7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gXCImdGltZXM7XCI7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgY2hlY2tCb3gpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIHRhc2tUaXRsZURpdik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgZGVsZXRlQnV0dG9uKTtcbiAgICAgIGNvbnN0IHRoaW5MaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRoaW5MaW5lLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUpO1xuICAgICAgY29uc3QgdGFza0luZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza0luZm9EaXYsIFwidGFzay1pbmZvXCIpO1xuICAgICAgYWRkVGV4dFRvRWxlbWVudCh0YXNrSW5mb0RpdiwgYXJyYXlbaV0uZGVzY3JpcHRpb24pO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0YXNrSW5mb0Rpdik7XG4gICAgICBjb25zdCB0aGluTGluZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUxLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUxKTtcbiAgICAgIGNvbnN0IHRhc2tTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1N0YXR1c0RpdiwgXCJ0YXNrLXN0YXR1c1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGFza1N0YXR1c0Rpdik7XG4gICAgICBjb25zdCBkYXRleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS52YWx1ZSA9IGFycmF5W2ldLmR1ZURhdGU7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tTdGF0dXNEaXYsIGRhdGV5KTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpdGVtRGl2LnJlbW92ZSgpO1xuICAgICAgICBhcnJheSA9IGFycmF5LmZpbHRlcigoaXRlbURpdikgPT4ge1xuICAgICAgICAgIHJldHVybiBpdGVtRGl2LmlkICE9PSBhcnJheVtpXS5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9yZWRUYXNrcygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICBpZiAobXlBcnJheS5sZW5ndGggPj0gdGFza0FycmF5Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJteUFycmF5XCIsIEpTT04uc3RyaW5naWZ5KHRhc2tBcnJheSkpO1xuICAgIH0pO1xuXG4gICAgbXlBcnJheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXlBcnJheVwiKTtcbiAgICBteUFycmF5ID0gSlNPTi5wYXJzZShteUFycmF5KTtcbiAgICBkaXNwbGF5VGFza3MobXlBcnJheSk7XG4gICAgcmV0dXJuIG15QXJyYXk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9ucygpIHtcbiAgICBsb3dQcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuKTtcbiAgICBtZWRpdW1QcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyk7XG4gICAgaGlnaFByaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByaW9CdXR0b25zQWN0aXZlUmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlR3JlZW4oKSB7XG4gICAgYWRkQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdygpIHtcbiAgICBhZGRDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlUmVkKCkge1xuICAgIGFkZENsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhtZWRpdW1QcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhsb3dQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlbkZvcm0oKSB7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHRhc2tBYm91dCwgXCJcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHRhc2tUaXRsZSwgXCJcIik7XG4gICAgY2xlYXJGb3JtSW5wdXRzKGRhdGUsIFwiXCIpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZvcm1cIik7XG4gICAgYWRkQ2xhc3MoZm9ybSwgXCJhY3RpdmVcIik7XG4gICAgYWRkQ2xhc3Mob3ZlcmxheSwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZUZvcm0oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuZm9ybVwiKTtcbiAgICByZW1vdmVDbGFzcyhmb3JtLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhvdmVybGF5LCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RGb3JtKCkge1xuICAgIGFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9qZWN0Rm9ybSk7XG4gICAgY2FuY2VsUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQcm9qZWN0Rm9ybSk7XG4gICAgYWRkUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkUHJvamVjdFRpdGxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RUaXRsZSgpIHtcbiAgICBpZiAocHJvamVjdFRpdGxlSW5wdXQudmFsdWUgPT0gXCJcIikge1xuICAgICAgYWRkQ2xhc3ModGl0bGVFcnJvciwgXCJhY3RpdmVcIik7XG4gICAgICBzaG93RXJyb3IodGl0bGVFcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJvamVjdCB0aXRsZVwiKTtcbiAgICAgIGFkZENsYXNzKGFkZFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgICAgYWRkQ2xhc3MoY2FuY2VsUHJvamVjdCwgXCJhY3RpdmVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZENsYXNzKHByb2plY3RGb3JtLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoYWRkUHJvamVjdEJ1dHRvbiwgXCJoaWRlXCIpO1xuICAgIGNyZWF0ZVByb2plY3RzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0cygpIHtcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY29uc3QgY2xvc2VJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgY2xvc2VJbWFnZS5zcmMgPSBcIkltYWdlcy9jbG9zZS1jaXJjbGUtb3V0bGluZS5zdmdcIjtcbiAgICBpbWFnZS5zcmMgPSBcIkltYWdlcy9mb3JtYXQtbGlzdC1jaGVja3Muc3ZnXCI7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGFkZFRleHRUb0VsZW1lbnQoc3BhbiwgcHJvamVjdFRpdGxlSW5wdXQudmFsdWUpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGltYWdlKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgc3Bhbik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGNsb3NlSW1hZ2UpO1xuICAgIGFkZENsYXNzKGRpdiwgXCJhLXByb2plY3RcIik7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChzaWRlQmFyLCBkaXYpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VQcm9qZWN0Rm9ybSgpIHtcbiAgICBhZGRDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Qcm9qZWN0Rm9ybSgpIHtcbiAgICBjbGVhckZvcm1JbnB1dHMocHJvamVjdFRpdGxlSW5wdXQsIFwiXCIpO1xuICAgIGFkZENsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGNhbmNlbFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHRpdGxlRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihlbGVtZW50LCBtZXNzYWdlKSB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckZvcm1JbnB1dHMoZWxlbWVudCwgY2xlYXIpIHtcbiAgICBlbGVtZW50LnZhbHVlID0gY2xlYXI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZFRvUGFyZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICBwYXJlbnQuYXBwZW5kKGNoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRleHRUb0VsZW1lbnQoZWxlbWVudCwgdGV4dCkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudHNCeUNsYXNzKGNsYXNzTmFtZSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuICAgIHdoaWxlIChlbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBlbGVtZW50c1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRzWzBdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxvYWRIb21lUGFnZSxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IFVJIH07XG4iLCJpbXBvcnQgeyBVSSB9IGZyb20gXCIuL01vZHVsZXMvcG9wLXVwLWZvcm1cIjtcblVJLmxvYWRIb21lUGFnZSgpO1xuIl0sIm5hbWVzIjpbInRhc2siLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiaXNEb25lIiwiZ2V0VGl0bGUiLCJnZXREZXNjcmlwdGlvbiIsImdldFByaW9yaXR5IiwidG9nZ2xlIiwiZ2V0RGF0ZSIsInRhc2tBcnJheSIsIm15QXJyYXkiLCJhZGRUYXNrQnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbmNlbEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXRCdXR0b24iLCJvdmVybGF5IiwibG93UHJpbyIsIm1lZGl1bVByaW8iLCJoaWdoUHJpbyIsInByaW9FcnJvciIsInRhc2tUaXRsZSIsInRhc2tBYm91dCIsImRhdGUiLCJhZGRQcm9qZWN0QnV0dG9uIiwiYWRkUHJvamVjdCIsImNhbmNlbFByb2plY3QiLCJwcm9qZWN0Rm9ybSIsInByb2plY3RUaXRsZUlucHV0Iiwic2lkZUJhciIsInRpdGxlRXJyb3IiLCJkaXNwbGF5VGFza3MiLCJhcnJheSIsInRhc2tJdGVtcyIsImkiLCJsZW5ndGgiLCJpZCIsIml0ZW1EaXYiLCJjcmVhdGVFbGVtZW50IiwiYWRkQ2xhc3MiLCJhcHBlbmRDaGlsZFRvUGFyZW50IiwiZGl2IiwiY2hlY2tCb3giLCJzZXRBdHRyaWJ1dGUiLCJ0YXNrVGl0bGVEaXYiLCJhZGRUZXh0VG9FbGVtZW50IiwiZGVsZXRlQnV0dG9uIiwiaW5uZXJIVE1MIiwidGhpbkxpbmUiLCJ0YXNrSW5mb0RpdiIsInRoaW5MaW5lMSIsInRhc2tTdGF0dXNEaXYiLCJkYXRleSIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImZpbHRlciIsInByaW9CdXR0b25zQWN0aXZlR3JlZW4iLCJyZW1vdmVDbGFzcyIsInByaW9CdXR0b25zQWN0aXZlWWVsbG93IiwicHJpb0J1dHRvbnNBY3RpdmVSZWQiLCJvcGVuRm9ybSIsImNsZWFyRm9ybUlucHV0cyIsImNsb3NlRm9ybSIsImFkZFByb2plY3RUaXRsZSIsInNob3dFcnJvciIsImltYWdlIiwiY2xvc2VJbWFnZSIsInNyYyIsInNwYW4iLCJjcmVhdGVQcm9qZWN0cyIsImNsb3NlUHJvamVjdEZvcm0iLCJvcGVuUHJvamVjdEZvcm0iLCJlbGVtZW50IiwiY2xhcyIsImNsYXNzTGlzdCIsImFkZCIsIm1lc3NhZ2UiLCJ0ZXh0Q29udGVudCIsImNsZWFyIiwicGFyZW50IiwiY2hpbGQiLCJhcHBlbmQiLCJ0ZXh0IiwibG9hZEhvbWVQYWdlIiwiY29uY2F0IiwiY2xhc3NOYW1lIiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRWxlbWVudHNCeUNsYXNzIiwiYWxlcnQiLCJjb250YWlucyIsInB1c2giLCJjb25zb2xlIiwibG9nIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRJdGVtIiwicGFyc2UiXSwic291cmNlUm9vdCI6IiJ9