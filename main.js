(()=>{"use strict";function e(e,t,c,n,o=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:o}}const t=(()=>{let t=[{projectName:"default",tasks:[],isOn:!0}];const c=document.getElementById("add-button"),n=document.querySelector(".cancel-button"),o=document.querySelector(".submit"),i=document.getElementById("overlay"),a=document.querySelector(".low"),s=document.querySelector(".medium"),r=document.querySelector(".high"),d=document.querySelector("span.error"),l=document.querySelector("[data-title]"),u=document.querySelector("[data-about]"),m=document.getElementById("due-date"),v=document.querySelector(".add-project-button"),p=document.querySelector("#add-project"),y=document.querySelector("#cancel-project"),h=document.querySelector(".projects"),E=document.getElementById("project"),f=document.querySelector(".sidebar"),k=document.querySelector(".title-error");function g(e){const c=document.querySelector(".task-items"),n=t.find((e=>e.isOn));for(let t=0;t<e.length;t++){e[t].id="task"+t;const o=document.createElement("div");x(o,"item"),"low"==e[t].priority&&x(o,"low-prio"),"medium"==e[t].priority&&x(o,"mid-prio"),"high"==e[t].priority&&x(o,"high-prio"),P(c,o);const i=document.createElement("div");P(o,i);const a=document.createElement("input");a.setAttribute("type","checkbox"),a.setAttribute("id","checkbox");const s=document.createElement("div");x(s,"task-header"),H(s,e[t].title);const r=document.createElement("button");x(r,"delete-button"),r.innerHTML="&times;",P(i,a),P(i,s),P(i,r);const d=document.createElement("div");x(d,"thin-line"),P(o,d);const l=document.createElement("div");x(l,"task-info"),H(l,e[t].description),P(o,l);const u=document.createElement("div");x(u,"thin-line"),P(o,u);const m=document.createElement("div");x(m,"task-status"),P(o,m);const v=document.createElement("input");v.setAttribute("type","date"),v.setAttribute("name","date"),v.setAttribute("id","date"),v.value=e[t].dueDate,P(m,v),r.addEventListener("click",(()=>{o.remove(),n.tasks=n.tasks.filter((c=>c.id!==e[t].id)),L(n.projectName,n)}))}}const L=(e,t)=>localStorage.setItem(e,JSON.stringify(t));function S(){x(a,"active"),B([s,r,d],"active")}function q(){x(s,"active"),B([a,r,d],"active")}function b(){x(r,"active"),B([s,a,d],"active")}function j(){B([a,s,r,d],"active"),D([u,l,m],"");const e=document.querySelector("div.form");x([e,i],"active")}function N(){const e=document.querySelector("div.form");B([e,i],"active")}function A(){if(console.log(t),""==E.value)return x([k,y,p],"active"),void w(k,"Please choose a project title");x(h,"hide"),B(v,"hide"),O()}function O(e){const c=document.createElement("img"),n=document.createElement("img");n.src="Images/close-circle-outline.svg",c.src="Images/format-list-checks.svg";const o=document.createElement("span");H(o,E.value||e);const i=document.createElement("div");if(P(i,c),P(i,o),P(i,n),x(i,"a-project"),P(f,i),!t.some((e=>e.projectName===o.textContent))){const e={projectName:o.textContent,tasks:[],isOn:!1};t.push(e)}o.addEventListener("click",(()=>{t.forEach((e=>e.isOn=!1)),t.find((e=>e.projectName===o.textContent)).isOn=!0}))}function C(){x(h,"hide"),B(v,"hide"),B(k,"active")}function I(){D(E,""),x(v,"hide"),B([h,p,y,k],"hide")}const x=(e,t)=>Array.isArray(e)?e.forEach((e=>e.classList.add(t))):e.classList.add(t),B=(e,t)=>Array.isArray(e)?e.forEach((e=>e.classList.remove(t))):e.classList.remove(t),w=(e,t)=>e.textContent=t,D=e=>Array.isArray(e)?e.forEach((e=>e.value="")):e.value="",P=(e,t)=>e.append(t),H=(e,t)=>e.textContent=t;return{loadHomePage:function(){c.addEventListener("click",j),i.addEventListener("click",N),n.addEventListener("click",N),o.addEventListener("click",(()=>{const c=t.find((e=>e.isOn));return function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==l.value||""==m.value?alert("Task Title is empty or you havent chose the due date"):a.classList.contains("active")||s.classList.contains("active")||r.classList.contains("active")?a.classList.contains("active")?(c.tasks.push(e(l.value,u.value,m.value,"low")),N(),g(c.tasks),L(c.projectName,c)):s.classList.contains("active")?(c.tasks.push(e(l.value,u.value,m.value,"medium")),N(),g(c.tasks),L(c.projectName,c)):r.classList.contains("active")?(c.tasks.push(e(l.value,u.value,m.value,"high")),N(),g(c.tasks),L(c.projectName,c)):void console.log(c):(x(d,"active"),w(d,"Please choose a priority"))})),v.addEventListener("click",I),y.addEventListener("click",C),p.addEventListener("click",A),a.addEventListener("click",S),s.addEventListener("click",q),r.addEventListener("click",b),function(){let e=[],t=Object.keys(localStorage),c=t.length;for(;c--;)O(t[c]),e.push(localStorage.getItem(t[c]));e=JSON.parse(e),console.log(e)}(),g(t[0].tasks)}}})();document.addEventListener("DOMContentLoaded",t.loadHomePage)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VWEsU0FBUyxXQUNoQzVFLEVBQWUxQixNQUFNZ0YsS0FDbkJ6RixFQUFLc0IsRUFBVW1DLE1BQU9sQyxFQUFVa0MsTUFBT2pDLEVBQUtpQyxNQUFPLFdBRXJEbUIsSUFDQTVDLEVBQWFHLEVBQWUxQixPQUNyQnFELEVBQVczQixFQUFlM0IsWUFBYTJCLElBRzVDZixFQUFTOEUsVUFBVWEsU0FBUyxXQUM5QjVFLEVBQWUxQixNQUFNZ0YsS0FDbkJ6RixFQUFLc0IsRUFBVW1DLE1BQU9sQyxFQUFVa0MsTUFBT2pDLEVBQUtpQyxNQUFPLFNBRXJEbUIsSUFDQTVDLEVBQWFHLEVBQWUxQixPQUNyQnFELEVBQVczQixFQUFlM0IsWUFBYTJCLFNBRWhEMkMsUUFBUUMsSUFBSTVDLElBOUJWUSxFQUFTdEIsRUFBVyxVQUNiMkQsRUFBVTNELEVBQVcsZ0NBNkloQ0ksRUFBaUJpQyxpQkFBaUIsUUFBU2tDLEdBQzNDakUsRUFBYytCLGlCQUFpQixRQUFTaUMsR0FDeENqRSxFQUFXZ0MsaUJBQWlCLFFBQVNtQixHQW5DckMzRCxFQUFRd0MsaUJBQWlCLFFBQVNXLEdBQ2xDbEQsRUFBV3VDLGlCQUFpQixRQUFTYSxHQUNyQ25ELEVBQVNzQyxpQkFBaUIsUUFBU2MsR0FwQnJDLFdBQ0UsSUFBSXdDLEVBQVcsR0FDYkMsRUFBT0MsT0FBT0QsS0FBS2hELGNBQ25CM0IsRUFBSTJFLEVBQUsxRSxPQUNYLEtBQU9ELEtBQ0wyQyxFQUFlZ0MsRUFBSzNFLElBQ3BCMEUsRUFBU3ZCLEtBQUt4QixhQUFha0QsUUFBUUYsRUFBSzNFLEtBRTFDMEUsRUFBVzdDLEtBQUtpRCxNQUFNSixHQUN0QmxDLFFBQVFDLElBQUlpQyxHQWpJWkssR0FDQXJGLEVBQWF6QixFQUFVLEdBQUdFLFVBN0JuQixHQ0RYRyxTQUFTOEMsaUJBQWlCLG1CQUFvQnBELEVBQUdtRyxlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL01vZHVsZXMvVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvTW9kdWxlcy9wb3AtdXAtZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBpc0RvbmUgPSBmYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGR1ZURhdGUsXG4gICAgcHJpb3JpdHksXG4gICAgaXNEb25lLFxuICB9O1xufVxuXG5leHBvcnQgeyB0YXNrIH07XG4iLCJpbXBvcnQgeyB0YXNrIH0gZnJvbSBcIi4vVGFza1wiO1xuXG5jb25zdCBVSSA9ICgoKSA9PiB7XG4gIGxldCB0YXNrQXJyYXkgPSBbeyBwcm9qZWN0TmFtZTogXCJkZWZhdWx0XCIsIHRhc2tzOiBbXSwgaXNPbjogdHJ1ZSB9XTtcbiAgbGV0IG15QXJyYXkgPSBbXTtcbiAgLy8gQ2FjaGluZyBUaGUgRE9NXG4gIGNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC1idXR0b25cIik7XG4gIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FuY2VsLWJ1dHRvblwiKTtcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRcIik7XG4gIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJsYXlcIik7XG4gIGNvbnN0IGxvd1ByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvd1wiKTtcbiAgY29uc3QgbWVkaXVtUHJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVkaXVtXCIpO1xuICBjb25zdCBoaWdoUHJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGlnaFwiKTtcbiAgY29uc3QgcHJpb0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNwYW4uZXJyb3JcIik7XG4gIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10aXRsZV1cIik7XG4gIGNvbnN0IHRhc2tBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1hYm91dF1cIik7XG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZS1kYXRlXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcHJvamVjdC1idXR0b25cIik7XG4gIGNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1wcm9qZWN0XCIpO1xuICBjb25zdCBjYW5jZWxQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYW5jZWwtcHJvamVjdFwiKTtcbiAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RzXCIpO1xuICBjb25zdCBwcm9qZWN0VGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdFwiKTtcbiAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhclwiKTtcbiAgY29uc3QgdGl0bGVFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtZXJyb3JcIik7XG5cbiAgZnVuY3Rpb24gbG9hZEhvbWVQYWdlKCkge1xuICAgIGFkZFRhc2soKTtcbiAgICBjbG9zZVRhc2tGb3JtKCk7XG4gICAgYWRkUHJvamVjdEZvcm0oKTtcbiAgICBwcmlvQnV0dG9ucygpO1xuICAgIGdldFRhc2tzKCk7XG4gICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheVswXS50YXNrcyk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUYXNrKCkge1xuICAgIGFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Gb3JtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGFza0Zvcm0oKSB7XG4gICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VGb3JtKTtcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlRm9ybSk7XG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAvL2ZpbmRpbmcgd2hpY2ggcHJvamVjdCB0aGUgdXNlciBjbGlja2VkIG9uXG4gICAgICBjb25zdCBjbGlja2VkUHJvamVjdCA9IHRhc2tBcnJheS5maW5kKChwcm9qZWN0KSA9PiBwcm9qZWN0LmlzT24pO1xuICAgICAgLy9yZW1vdmluZyBlbGVtZW50cyBzbyB0aGV5IGRvbnQgZHVwbGljYXRlXG4gICAgICByZW1vdmVFbGVtZW50c0J5Q2xhc3MoXCJpdGVtXCIpO1xuXG4gICAgICAvLyAgICAgSW5wdXQgRXJyb3JcblxuICAgICAgaWYgKHRhc2tUaXRsZS52YWx1ZSA9PSBcIlwiIHx8IGRhdGUudmFsdWUgPT0gXCJcIilcbiAgICAgICAgcmV0dXJuIGFsZXJ0KFwiVGFzayBUaXRsZSBpcyBlbXB0eSBvciB5b3UgaGF2ZW50IGNob3NlIHRoZSBkdWUgZGF0ZVwiKTtcblxuICAgICAgLy8gICAgIFByaW9yaXR5IEVycm9yXG5cbiAgICAgIGlmIChcbiAgICAgICAgIWxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmXG4gICAgICAgICFtZWRpdW1QcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhaGlnaFByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXG4gICAgICApIHtcbiAgICAgICAgYWRkQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgICAgcmV0dXJuIHNob3dFcnJvcihwcmlvRXJyb3IsIFwiUGxlYXNlIGNob29zZSBhIHByaW9yaXR5XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobG93UHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgY2xpY2tlZFByb2plY3QudGFza3MucHVzaChcbiAgICAgICAgICB0YXNrKHRhc2tUaXRsZS52YWx1ZSwgdGFza0Fib3V0LnZhbHVlLCBkYXRlLnZhbHVlLCBcImxvd1wiKVxuICAgICAgICApO1xuICAgICAgICBjbG9zZUZvcm0oKTtcbiAgICAgICAgZGlzcGxheVRhc2tzKGNsaWNrZWRQcm9qZWN0LnRhc2tzKTtcbiAgICAgICAgcmV0dXJuIHN0b3JlVGFza3MoY2xpY2tlZFByb2plY3QucHJvamVjdE5hbWUsIGNsaWNrZWRQcm9qZWN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGl1bVByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIGNsaWNrZWRQcm9qZWN0LnRhc2tzLnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJtZWRpdW1cIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICAgIGRpc3BsYXlUYXNrcyhjbGlja2VkUHJvamVjdC50YXNrcyk7XG4gICAgICAgIHJldHVybiBzdG9yZVRhc2tzKGNsaWNrZWRQcm9qZWN0LnByb2plY3ROYW1lLCBjbGlja2VkUHJvamVjdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaWdoUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgY2xpY2tlZFByb2plY3QudGFza3MucHVzaChcbiAgICAgICAgICB0YXNrKHRhc2tUaXRsZS52YWx1ZSwgdGFza0Fib3V0LnZhbHVlLCBkYXRlLnZhbHVlLCBcImhpZ2hcIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICAgIGRpc3BsYXlUYXNrcyhjbGlja2VkUHJvamVjdC50YXNrcyk7XG4gICAgICAgIHJldHVybiBzdG9yZVRhc2tzKGNsaWNrZWRQcm9qZWN0LnByb2plY3ROYW1lLCBjbGlja2VkUHJvamVjdCk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhjbGlja2VkUHJvamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5VGFza3MoYXJyYXkpIHtcbiAgICBjb25zdCB0YXNrSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2staXRlbXNcIik7XG4gICAgY29uc3QgY2xpY2tlZFByb2plY3QgPSB0YXNrQXJyYXkuZmluZCgocHJvamVjdCkgPT4gcHJvamVjdC5pc09uKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnJheVtpXS5pZCA9IFwidGFza1wiICsgaTtcbiAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3MoaXRlbURpdiwgXCJpdGVtXCIpO1xuICAgICAgaWYgKGFycmF5W2ldLnByaW9yaXR5ID09IFwibG93XCIpIGFkZENsYXNzKGl0ZW1EaXYsIFwibG93LXByaW9cIik7XG4gICAgICBpZiAoYXJyYXlbaV0ucHJpb3JpdHkgPT0gXCJtZWRpdW1cIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJtaWQtcHJpb1wiKTtcbiAgICAgIGlmIChhcnJheVtpXS5wcmlvcml0eSA9PSBcImhpZ2hcIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJoaWdoLXByaW9cIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tJdGVtcywgaXRlbURpdik7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCBkaXYpO1xuICAgICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgY29uc3QgdGFza1RpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tUaXRsZURpdiwgXCJ0YXNrLWhlYWRlclwiKTtcbiAgICAgIGFkZFRleHRUb0VsZW1lbnQodGFza1RpdGxlRGl2LCBhcnJheVtpXS50aXRsZSk7XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYWRkQ2xhc3MoZGVsZXRlQnV0dG9uLCBcImRlbGV0ZS1idXR0b25cIik7XG4gICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gXCImdGltZXM7XCI7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgY2hlY2tCb3gpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIHRhc2tUaXRsZURpdik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgZGVsZXRlQnV0dG9uKTtcbiAgICAgIGNvbnN0IHRoaW5MaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRoaW5MaW5lLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUpO1xuICAgICAgY29uc3QgdGFza0luZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza0luZm9EaXYsIFwidGFzay1pbmZvXCIpO1xuICAgICAgYWRkVGV4dFRvRWxlbWVudCh0YXNrSW5mb0RpdiwgYXJyYXlbaV0uZGVzY3JpcHRpb24pO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0YXNrSW5mb0Rpdik7XG4gICAgICBjb25zdCB0aGluTGluZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUxLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUxKTtcbiAgICAgIGNvbnN0IHRhc2tTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1N0YXR1c0RpdiwgXCJ0YXNrLXN0YXR1c1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGFza1N0YXR1c0Rpdik7XG4gICAgICBjb25zdCBkYXRleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS52YWx1ZSA9IGFycmF5W2ldLmR1ZURhdGU7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHRhc2tTdGF0dXNEaXYsIGRhdGV5KTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpdGVtRGl2LnJlbW92ZSgpO1xuICAgICAgICBjbGlja2VkUHJvamVjdC50YXNrcyA9IGNsaWNrZWRQcm9qZWN0LnRhc2tzLmZpbHRlcigodG9kbykgPT5cbiAgICAgICAgICB0b2RvLmlkICE9PSBhcnJheVtpXS5pZCA/IHRydWUgOiBmYWxzZVxuICAgICAgICApO1xuICAgICAgICBzdG9yZVRhc2tzKGNsaWNrZWRQcm9qZWN0LnByb2plY3ROYW1lLCBjbGlja2VkUHJvamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBzdG9yZVRhc2tzID0gKGFycmF5TmFtZSwgYXJyYXlUb0JlU3RvcmVkKSA9PlxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGFycmF5TmFtZSwgSlNPTi5zdHJpbmdpZnkoYXJyYXlUb0JlU3RvcmVkKSk7XG5cbiAgZnVuY3Rpb24gZ2V0VGFza3MoKSB7XG4gICAgbGV0IHByb2plY3RzID0gW10sXG4gICAgICBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKSxcbiAgICAgIGkgPSBrZXlzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjcmVhdGVQcm9qZWN0cyhrZXlzW2ldKTtcbiAgICAgIHByb2plY3RzLnB1c2gobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5c1tpXSkpO1xuICAgIH1cbiAgICBwcm9qZWN0cyA9IEpTT04ucGFyc2UocHJvamVjdHMpO1xuICAgIGNvbnNvbGUubG9nKHByb2plY3RzKTtcbiAgICAvLyBpZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXlBcnJheVwiKSkgcmV0dXJuO1xuICAgIC8vIG15QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm15QXJyYXlcIik7XG4gICAgLy8gbXlBcnJheSA9IEpTT04ucGFyc2UobXlBcnJheSk7XG4gICAgLy8gdGFza0FycmF5ID0gWy4uLnRhc2tBcnJheV07XG4gICAgLy8gdGFza0FycmF5WzBdLnRhc2tzID0gWy4uLihteUFycmF5WzBdLnRhc2tzIHx8IFtdKV07XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9ucygpIHtcbiAgICBsb3dQcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuKTtcbiAgICBtZWRpdW1QcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyk7XG4gICAgaGlnaFByaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByaW9CdXR0b25zQWN0aXZlUmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlR3JlZW4oKSB7XG4gICAgYWRkQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoW21lZGl1bVByaW8sIGhpZ2hQcmlvLCBwcmlvRXJyb3JdLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByaW9CdXR0b25zQWN0aXZlWWVsbG93KCkge1xuICAgIGFkZENsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKFtsb3dQcmlvLCBoaWdoUHJpbywgcHJpb0Vycm9yXSwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZVJlZCgpIHtcbiAgICBhZGRDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoW21lZGl1bVByaW8sIGxvd1ByaW8sIHByaW9FcnJvcl0sIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlbkZvcm0oKSB7XG4gICAgcmVtb3ZlQ2xhc3MoW2xvd1ByaW8sIG1lZGl1bVByaW8sIGhpZ2hQcmlvLCBwcmlvRXJyb3JdLCBcImFjdGl2ZVwiKTtcbiAgICBjbGVhckZvcm1JbnB1dHMoW3Rhc2tBYm91dCwgdGFza1RpdGxlLCBkYXRlXSwgXCJcIik7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuZm9ybVwiKTtcbiAgICBhZGRDbGFzcyhbZm9ybSwgb3ZlcmxheV0sIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZvcm1cIik7XG4gICAgcmVtb3ZlQ2xhc3MoW2Zvcm0sIG92ZXJsYXldLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RGb3JtKCkge1xuICAgIGFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9qZWN0Rm9ybSk7XG4gICAgY2FuY2VsUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQcm9qZWN0Rm9ybSk7XG4gICAgYWRkUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkUHJvamVjdFRpdGxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFByb2plY3RUaXRsZSgpIHtcbiAgICBjb25zb2xlLmxvZyh0YXNrQXJyYXkpO1xuICAgIGlmIChwcm9qZWN0VGl0bGVJbnB1dC52YWx1ZSA9PSBcIlwiKSB7XG4gICAgICBhZGRDbGFzcyhbdGl0bGVFcnJvciwgY2FuY2VsUHJvamVjdCwgYWRkUHJvamVjdF0sIFwiYWN0aXZlXCIpO1xuICAgICAgc2hvd0Vycm9yKHRpdGxlRXJyb3IsIFwiUGxlYXNlIGNob29zZSBhIHByb2plY3QgdGl0bGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZENsYXNzKHByb2plY3RGb3JtLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoYWRkUHJvamVjdEJ1dHRvbiwgXCJoaWRlXCIpO1xuICAgIGNyZWF0ZVByb2plY3RzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0cyhwcm9qZWN0TmFtZSkge1xuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjb25zdCBjbG9zZUltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjbG9zZUltYWdlLnNyYyA9IFwiSW1hZ2VzL2Nsb3NlLWNpcmNsZS1vdXRsaW5lLnN2Z1wiO1xuICAgIGltYWdlLnNyYyA9IFwiSW1hZ2VzL2Zvcm1hdC1saXN0LWNoZWNrcy5zdmdcIjtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgYWRkVGV4dFRvRWxlbWVudChzcGFuLCBwcm9qZWN0VGl0bGVJbnB1dC52YWx1ZSB8fCBwcm9qZWN0TmFtZSk7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgaW1hZ2UpO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBzcGFuKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGRpdiwgY2xvc2VJbWFnZSk7XG4gICAgYWRkQ2xhc3MoZGl2LCBcImEtcHJvamVjdFwiKTtcbiAgICBhcHBlbmRDaGlsZFRvUGFyZW50KHNpZGVCYXIsIGRpdik7XG4gICAgaWYgKFxuICAgICAgIXRhc2tBcnJheS5zb21lKChwcm9qZWN0KSA9PiBwcm9qZWN0LnByb2plY3ROYW1lID09PSBzcGFuLnRleHRDb250ZW50KVxuICAgICkge1xuICAgICAgY29uc3QgcHJvamVjdE9iamVjdCA9IHtcbiAgICAgICAgcHJvamVjdE5hbWU6IHNwYW4udGV4dENvbnRlbnQsXG4gICAgICAgIHRhc2tzOiBbXSxcbiAgICAgICAgaXNPbjogZmFsc2UsXG4gICAgICB9O1xuICAgICAgdGFza0FycmF5LnB1c2gocHJvamVjdE9iamVjdCk7XG4gICAgfVxuICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRhc2tBcnJheS5mb3JFYWNoKChwcm9qZWN0KSA9PiAocHJvamVjdC5pc09uID0gZmFsc2UpKTtcbiAgICAgIHRhc2tBcnJheS5maW5kKFxuICAgICAgICAocHJvamVjdCkgPT4gcHJvamVjdC5wcm9qZWN0TmFtZSA9PT0gc3Bhbi50ZXh0Q29udGVudFxuICAgICAgKS5pc09uID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlUHJvamVjdEZvcm0oKSB7XG4gICAgYWRkQ2xhc3MocHJvamVjdEZvcm0sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3ModGl0bGVFcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuUHJvamVjdEZvcm0oKSB7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHByb2plY3RUaXRsZUlucHV0LCBcIlwiKTtcbiAgICBhZGRDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoW3Byb2plY3RGb3JtLCBhZGRQcm9qZWN0LCBjYW5jZWxQcm9qZWN0LCB0aXRsZUVycm9yXSwgXCJoaWRlXCIpO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnNcblxuICBjb25zdCBhZGRDbGFzcyA9IChlbGVtZW50cywgY2xhc3NOYW1lKSA9PlxuICAgIEFycmF5LmlzQXJyYXkoZWxlbWVudHMpXG4gICAgICA/IGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpKVxuICAgICAgOiBlbGVtZW50cy5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cbiAgY29uc3QgcmVtb3ZlQ2xhc3MgPSAoZWxlbWVudHMsIGNsYXNzTmFtZSkgPT5cbiAgICBBcnJheS5pc0FycmF5KGVsZW1lbnRzKVxuICAgICAgPyBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKSlcbiAgICAgIDogZWxlbWVudHMuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXG4gIGNvbnN0IHNob3dFcnJvciA9IChlbGVtZW50LCBtZXNzYWdlKSA9PiAoZWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2UpO1xuXG4gIGNvbnN0IGNsZWFyRm9ybUlucHV0cyA9IChlbGVtZW50cykgPT5cbiAgICBBcnJheS5pc0FycmF5KGVsZW1lbnRzKVxuICAgICAgPyBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiAoZWxlbWVudC52YWx1ZSA9IFwiXCIpKVxuICAgICAgOiAoZWxlbWVudHMudmFsdWUgPSBcIlwiKTtcblxuICBjb25zdCBhcHBlbmRDaGlsZFRvUGFyZW50ID0gKHBhcmVudCwgY2hpbGQpID0+IHBhcmVudC5hcHBlbmQoY2hpbGQpO1xuXG4gIGNvbnN0IGFkZFRleHRUb0VsZW1lbnQgPSAoZWxlbWVudCwgdGV4dCkgPT4gKGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0KTtcblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50c0J5Q2xhc3MoY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7XG4gICAgd2hpbGUgKGVsZW1lbnRzLmxlbmd0aCA+IDApIGVsZW1lbnRzWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudHNbMF0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkSG9tZVBhZ2UsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBVSSB9O1xuIiwiaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi9Nb2R1bGVzL3BvcC11cC1mb3JtXCI7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBVSS5sb2FkSG9tZVBhZ2UpO1xuIl0sIm5hbWVzIjpbInRhc2siLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiaXNEb25lIiwiVUkiLCJ0YXNrQXJyYXkiLCJwcm9qZWN0TmFtZSIsInRhc2tzIiwiaXNPbiIsImFkZFRhc2tCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2FuY2VsQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvbiIsIm92ZXJsYXkiLCJsb3dQcmlvIiwibWVkaXVtUHJpbyIsImhpZ2hQcmlvIiwicHJpb0Vycm9yIiwidGFza1RpdGxlIiwidGFza0Fib3V0IiwiZGF0ZSIsImFkZFByb2plY3RCdXR0b24iLCJhZGRQcm9qZWN0IiwiY2FuY2VsUHJvamVjdCIsInByb2plY3RGb3JtIiwicHJvamVjdFRpdGxlSW5wdXQiLCJzaWRlQmFyIiwidGl0bGVFcnJvciIsImRpc3BsYXlUYXNrcyIsImFycmF5IiwidGFza0l0ZW1zIiwiY2xpY2tlZFByb2plY3QiLCJmaW5kIiwicHJvamVjdCIsImkiLCJsZW5ndGgiLCJpZCIsIml0ZW1EaXYiLCJjcmVhdGVFbGVtZW50IiwiYWRkQ2xhc3MiLCJhcHBlbmRDaGlsZFRvUGFyZW50IiwiZGl2IiwiY2hlY2tCb3giLCJzZXRBdHRyaWJ1dGUiLCJ0YXNrVGl0bGVEaXYiLCJhZGRUZXh0VG9FbGVtZW50IiwiZGVsZXRlQnV0dG9uIiwiaW5uZXJIVE1MIiwidGhpbkxpbmUiLCJ0YXNrSW5mb0RpdiIsInRoaW5MaW5lMSIsInRhc2tTdGF0dXNEaXYiLCJkYXRleSIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImZpbHRlciIsInRvZG8iLCJzdG9yZVRhc2tzIiwiYXJyYXlOYW1lIiwiYXJyYXlUb0JlU3RvcmVkIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuIiwicmVtb3ZlQ2xhc3MiLCJwcmlvQnV0dG9uc0FjdGl2ZVllbGxvdyIsInByaW9CdXR0b25zQWN0aXZlUmVkIiwib3BlbkZvcm0iLCJjbGVhckZvcm1JbnB1dHMiLCJmb3JtIiwiY2xvc2VGb3JtIiwiYWRkUHJvamVjdFRpdGxlIiwiY29uc29sZSIsImxvZyIsInNob3dFcnJvciIsImNyZWF0ZVByb2plY3RzIiwiaW1hZ2UiLCJjbG9zZUltYWdlIiwic3JjIiwic3BhbiIsInNvbWUiLCJ0ZXh0Q29udGVudCIsInByb2plY3RPYmplY3QiLCJwdXNoIiwiZm9yRWFjaCIsImNsb3NlUHJvamVjdEZvcm0iLCJvcGVuUHJvamVjdEZvcm0iLCJlbGVtZW50cyIsImNsYXNzTmFtZSIsIkFycmF5IiwiaXNBcnJheSIsImVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJtZXNzYWdlIiwicGFyZW50IiwiY2hpbGQiLCJhcHBlbmQiLCJ0ZXh0IiwibG9hZEhvbWVQYWdlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUVsZW1lbnRzQnlDbGFzcyIsImFsZXJ0IiwiY29udGFpbnMiLCJwcm9qZWN0cyIsImtleXMiLCJPYmplY3QiLCJnZXRJdGVtIiwicGFyc2UiLCJnZXRUYXNrcyJdLCJzb3VyY2VSb290IjoiIn0=