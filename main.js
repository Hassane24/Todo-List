(()=>{"use strict";function e(e,t,c,n,i=!1){return{title:e,description:t,dueDate:c,priority:n,isDone:i,getTitle:()=>e,getDescription:()=>t,getPriority:()=>n,toggle:()=>{i=!i},getDate:()=>c}}const t=(()=>{let t=[],c=[];const n=document.getElementById("add-button"),i=document.querySelector(".cancel-button"),o=document.querySelector(".submit"),a=document.getElementById("overlay"),r=document.querySelector(".low"),d=document.querySelector(".medium"),l=document.querySelector(".high"),u=document.querySelector("span.error"),s=document.querySelector("[data-title]"),m=document.querySelector("[data-about]"),v=document.getElementById("due-date"),y=document.querySelector(".add-project-button"),h=document.querySelector("#add-project"),g=document.querySelector("#cancel-project"),p=document.querySelector(".projects"),E=document.getElementById("project"),f=document.querySelector(".sidebar"),L=document.querySelector(".title-error");function S(e){const n=document.querySelector(".task-items");e.forEach(((e,i)=>{e.id=`task${i}`;const o=document.createElement("div");D(o,"item"),"low"==e.priority&&D(o,"low-prio"),"medium"==e.priority&&D(o,"mid-prio"),"high"==e.priority&&D(o,"high-prio"),N(n,o);const a=document.createElement("div");N(o,a);const r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("id","checkbox");const d=document.createElement("div");D(d,"task-header"),T(d,e.title);const l=document.createElement("button");D(l,"delete-button"),l.innerHTML="&times;",N(a,r),N(a,d),N(a,l);const u=document.createElement("div");D(u,"thin-line"),N(o,u);const s=document.createElement("div");D(s,"task-info"),T(s,e.description),N(o,s);const m=document.createElement("div");D(m,"thin-line"),N(o,m);const v=document.createElement("div");D(v,"task-status"),N(o,v);const y=document.createElement("input");y.setAttribute("type","date"),y.setAttribute("name","date"),y.setAttribute("id","date"),y.value=e.dueDate,N(v,y),l.addEventListener("click",(()=>{o.remove(),console.log(t),console.log(c),t=t.filter((t=>t.id!==e.id)),c=c.filter((t=>t.id!==e.id))}))}))}function k(){D(r,"active"),P(d,"active"),P(l,"active"),P(u,"active")}function b(){D(d,"active"),P(r,"active"),P(l,"active"),P(u,"active")}function q(){D(l,"active"),P(d,"active"),P(r,"active"),P(u,"active")}function I(){P(r,"active"),P(d,"active"),P(l,"active"),P(u,"active"),C(m,""),C(s,""),C(v,""),D(document.querySelector("div.form"),"active"),D(a,"active")}function j(){P(document.querySelector("div.form"),"active"),P(a,"active")}function A(){if(""==E.value)return D(L,"active"),x(L,"Please choose a project title"),D(h,"active"),void D(g,"active");D(p,"hide"),P(y,"hide"),function(){const e=document.createElement("img"),t=document.createElement("img");t.src="Images/close-circle-outline.svg",e.src="Images/format-list-checks.svg";const c=document.createElement("span");T(c,E.value);const n=document.createElement("div");N(n,e),N(n,c),N(n,t),D(n,"a-project"),N(f,n)}()}function w(){D(p,"hide"),P(y,"hide")}function B(){C(E,""),D(y,"hide"),P(p,"hide"),P(h,"active"),P(g,"active"),P(L,"active")}function D(e,t){e.classList.add(t)}function P(e,t){e.classList.remove(t)}function x(e,t){e.textContent=t}function C(e,t){e.value=t}function N(e,t){e.append(t)}function T(e,t){e.textContent=t}return{loadHomePage:function(){n.addEventListener("click",I),a.addEventListener("click",j),i.addEventListener("click",j),o.addEventListener("click",(()=>(t.length||(t=t.concat(c)),function(e){const t=document.getElementsByClassName("item");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}(),""==s.value||""==v.value?alert("Task Title is empty or you havent chose the due date"):r.classList.contains("active")||d.classList.contains("active")||l.classList.contains("active")?(r.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"low")),j()),d.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"medium")),j()),l.classList.contains("active")&&(t.push(e(s.value,m.value,v.value,"high")),j()),S(t),console.table(t),void console.table(c)):(D(u,"active"),void x(u,"Please choose a priority"))))),y.addEventListener("click",B),g.addEventListener("click",w),h.addEventListener("click",A),r.addEventListener("click",k),d.addEventListener("click",b),l.addEventListener("click",q),window.addEventListener("beforeunload",(()=>{c.length>=t.length||localStorage.setItem("myArray",JSON.stringify(t))})),c=localStorage.getItem("myArray"),c=JSON.parse(c),S(c)}}})();t.loadHomePage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsU0FBU0EsRUFBS0MsRUFBT0MsRUFBYUMsRUFBU0MsRUFBVUMsR0FBUyxHQXFCNUQsTUFBTyxDQUNMSixNQUFBQSxFQUNBQyxZQUFBQSxFQUNBQyxRQUFBQSxFQUNBQyxTQUFBQSxFQUNBQyxPQUFBQSxFQUNBQyxTQTFCZSxJQUNSTCxFQTBCUE0sZUFuQnFCLElBQ2RMLEVBbUJQTSxZQWhCa0IsSUFDWEosRUFnQlBLLE9BYmEsS0FDYkosR0FBVUEsR0FhVkssUUExQmMsSUFDUFAsR0NKWCxNQUFNUSxFQUFLLE1BQ1QsSUFBSUMsRUFBWSxHQUNaQyxFQUFVLEdBQ2QsTUFBTUMsRUFBZ0JDLFNBQVNDLGVBQWUsY0FDeENDLEVBQWVGLFNBQVNHLGNBQWMsa0JBQ3RDQyxFQUFlSixTQUFTRyxjQUFjLFdBQ3RDRSxFQUFVTCxTQUFTQyxlQUFlLFdBQ2xDSyxFQUFVTixTQUFTRyxjQUFjLFFBQ2pDSSxFQUFhUCxTQUFTRyxjQUFjLFdBQ3BDSyxFQUFXUixTQUFTRyxjQUFjLFNBQ2xDTSxFQUFZVCxTQUFTRyxjQUFjLGNBQ25DTyxFQUFZVixTQUFTRyxjQUFjLGdCQUNuQ1EsRUFBWVgsU0FBU0csY0FBYyxnQkFDbkNTLEVBQU9aLFNBQVNDLGVBQWUsWUFDL0JZLEVBQW1CYixTQUFTRyxjQUFjLHVCQUMxQ1csRUFBYWQsU0FBU0csY0FBYyxnQkFDcENZLEVBQWdCZixTQUFTRyxjQUFjLG1CQUN2Q2EsRUFBY2hCLFNBQVNHLGNBQWMsYUFDckNjLEVBQW9CakIsU0FBU0MsZUFBZSxXQUM1Q2lCLEVBQVVsQixTQUFTRyxjQUFjLFlBQ2pDZ0IsRUFBYW5CLFNBQVNHLGNBQWMsZ0JBaUUxQyxTQUFTaUIsRUFBYUMsR0FDcEIsTUFBTUMsRUFBWXRCLFNBQVNHLGNBQWMsZUFDekNrQixFQUFNRSxTQUFRLENBQUN0QyxFQUFNdUMsS0FDbkJ2QyxFQUFLd0MsR0FBSyxPQUFPRCxJQUNqQixNQUFNRSxFQUFVMUIsU0FBUzJCLGNBQWMsT0FDdkNDLEVBQVNGLEVBQVMsUUFDRyxPQUFqQnpDLEVBQUtJLFVBQW1CdUMsRUFBU0YsRUFBUyxZQUN6QixVQUFqQnpDLEVBQUtJLFVBQXNCdUMsRUFBU0YsRUFBUyxZQUM1QixRQUFqQnpDLEVBQUtJLFVBQW9CdUMsRUFBU0YsRUFBUyxhQUMvQ0csRUFBb0JQLEVBQVdJLEdBQy9CLE1BQU1JLEVBQU05QixTQUFTMkIsY0FBYyxPQUNuQ0UsRUFBb0JILEVBQVNJLEdBQzdCLE1BQU1DLEVBQVcvQixTQUFTMkIsY0FBYyxTQUN4Q0ksRUFBU0MsYUFBYSxPQUFRLFlBQzlCRCxFQUFTQyxhQUFhLEtBQU0sWUFDNUIsTUFBTUMsRUFBZWpDLFNBQVMyQixjQUFjLE9BQzVDQyxFQUFTSyxFQUFjLGVBQ3ZCQyxFQUFpQkQsRUFBY2hELEVBQUtDLE9BQ3BDLE1BQU1pRCxFQUFlbkMsU0FBUzJCLGNBQWMsVUFDNUNDLEVBQVNPLEVBQWMsaUJBQ3ZCQSxFQUFhQyxVQUFZLFVBQ3pCUCxFQUFvQkMsRUFBS0MsR0FDekJGLEVBQW9CQyxFQUFLRyxHQUN6QkosRUFBb0JDLEVBQUtLLEdBQ3pCLE1BQU1FLEVBQVdyQyxTQUFTMkIsY0FBYyxPQUN4Q0MsRUFBU1MsRUFBVSxhQUNuQlIsRUFBb0JILEVBQVNXLEdBQzdCLE1BQU1DLEVBQWN0QyxTQUFTMkIsY0FBYyxPQUMzQ0MsRUFBU1UsRUFBYSxhQUN0QkosRUFBaUJJLEVBQWFyRCxFQUFLRSxhQUNuQzBDLEVBQW9CSCxFQUFTWSxHQUM3QixNQUFNQyxFQUFZdkMsU0FBUzJCLGNBQWMsT0FDekNDLEVBQVNXLEVBQVcsYUFDcEJWLEVBQW9CSCxFQUFTYSxHQUM3QixNQUFNQyxFQUFnQnhDLFNBQVMyQixjQUFjLE9BQzdDQyxFQUFTWSxFQUFlLGVBQ3hCWCxFQUFvQkgsRUFBU2MsR0FDN0IsTUFBTUMsRUFBUXpDLFNBQVMyQixjQUFjLFNBQ3JDYyxFQUFNVCxhQUFhLE9BQVEsUUFDM0JTLEVBQU1ULGFBQWEsT0FBUSxRQUMzQlMsRUFBTVQsYUFBYSxLQUFNLFFBQ3pCUyxFQUFNQyxNQUFRekQsRUFBS0csUUFDbkJ5QyxFQUFvQlcsRUFBZUMsR0FDbkNOLEVBQWFRLGlCQUFpQixTQUFTLEtBQ3JDakIsRUFBUWtCLFNBQ1JDLFFBQVFDLElBQUlqRCxHQUNaZ0QsUUFBUUMsSUFBSWhELEdBQ1pELEVBQVlBLEVBQVVrRCxRQUFRQyxHQUNyQkEsRUFBT3ZCLEtBQU94QyxFQUFLd0MsS0FFNUIzQixFQUFVQSxFQUFRaUQsUUFBUUMsR0FDakJBLEVBQU92QixLQUFPeEMsRUFBS3dDLFdBd0JsQyxTQUFTd0IsSUFDUHJCLEVBQVN0QixFQUFTLFVBQ2xCNEMsRUFBWTNDLEVBQVksVUFDeEIyQyxFQUFZMUMsRUFBVSxVQUN0QjBDLEVBQVl6QyxFQUFXLFVBR3pCLFNBQVMwQyxJQUNQdkIsRUFBU3JCLEVBQVksVUFDckIyQyxFQUFZNUMsRUFBUyxVQUNyQjRDLEVBQVkxQyxFQUFVLFVBQ3RCMEMsRUFBWXpDLEVBQVcsVUFHekIsU0FBUzJDLElBQ1B4QixFQUFTcEIsRUFBVSxVQUNuQjBDLEVBQVkzQyxFQUFZLFVBQ3hCMkMsRUFBWTVDLEVBQVMsVUFDckI0QyxFQUFZekMsRUFBVyxVQUd6QixTQUFTNEMsSUFDUEgsRUFBWTVDLEVBQVMsVUFDckI0QyxFQUFZM0MsRUFBWSxVQUN4QjJDLEVBQVkxQyxFQUFVLFVBQ3RCMEMsRUFBWXpDLEVBQVcsVUFDdkI2QyxFQUFnQjNDLEVBQVcsSUFDM0IyQyxFQUFnQjVDLEVBQVcsSUFDM0I0QyxFQUFnQjFDLEVBQU0sSUFFdEJnQixFQURhNUIsU0FBU0csY0FBYyxZQUNyQixVQUNmeUIsRUFBU3ZCLEVBQVMsVUFHcEIsU0FBU2tELElBRVBMLEVBRGFsRCxTQUFTRyxjQUFjLFlBQ2xCLFVBQ2xCK0MsRUFBWTdDLEVBQVMsVUFTdkIsU0FBU21ELElBQ1AsR0FBK0IsSUFBM0J2QyxFQUFrQnlCLE1BS3BCLE9BSkFkLEVBQVNULEVBQVksVUFDckJzQyxFQUFVdEMsRUFBWSxpQ0FDdEJTLEVBQVNkLEVBQVksZUFDckJjLEVBQVNiLEVBQWUsVUFHMUJhLEVBQVNaLEVBQWEsUUFDdEJrQyxFQUFZckMsRUFBa0IsUUFJaEMsV0FDRSxNQUFNNkMsRUFBUTFELFNBQVMyQixjQUFjLE9BQy9CZ0MsRUFBYTNELFNBQVMyQixjQUFjLE9BQzFDZ0MsRUFBV0MsSUFBTSxrQ0FDakJGLEVBQU1FLElBQU0sZ0NBQ1osTUFBTUMsRUFBTzdELFNBQVMyQixjQUFjLFFBQ3BDTyxFQUFpQjJCLEVBQU01QyxFQUFrQnlCLE9BQ3pDLE1BQU1aLEVBQU05QixTQUFTMkIsY0FBYyxPQUNuQ0UsRUFBb0JDLEVBQUs0QixHQUN6QjdCLEVBQW9CQyxFQUFLK0IsR0FDekJoQyxFQUFvQkMsRUFBSzZCLEdBQ3pCL0IsRUFBU0UsRUFBSyxhQUNkRCxFQUFvQlgsRUFBU1ksR0FmN0JnQyxHQWtCRixTQUFTQyxJQUNQbkMsRUFBU1osRUFBYSxRQUN0QmtDLEVBQVlyQyxFQUFrQixRQUdoQyxTQUFTbUQsSUFDUFYsRUFBZ0JyQyxFQUFtQixJQUNuQ1csRUFBU2YsRUFBa0IsUUFDM0JxQyxFQUFZbEMsRUFBYSxRQUN6QmtDLEVBQVlwQyxFQUFZLFVBQ3hCb0MsRUFBWW5DLEVBQWUsVUFDM0JtQyxFQUFZL0IsRUFBWSxVQUsxQixTQUFTUyxFQUFTcUMsRUFBU0MsR0FDekJELEVBQVFFLFVBQVVDLElBQUlGLEdBR3hCLFNBQVNoQixFQUFZZSxFQUFTQyxHQUM1QkQsRUFBUUUsVUFBVXZCLE9BQU9zQixHQUczQixTQUFTVCxFQUFVUSxFQUFTSSxHQUMxQkosRUFBUUssWUFBY0QsRUFHeEIsU0FBU2YsRUFBZ0JXLEVBQVNNLEdBQ2hDTixFQUFRdkIsTUFBUTZCLEVBR2xCLFNBQVMxQyxFQUFvQjJDLEVBQVFDLEdBQ25DRCxFQUFPRSxPQUFPRCxHQUdoQixTQUFTdkMsRUFBaUIrQixFQUFTVSxHQUNqQ1YsRUFBUUssWUFBY0ssRUFVeEIsTUFBTyxDQUNMQyxhQXBRRixXQVNFN0UsRUFBYzRDLGlCQUFpQixRQUFTVSxHQUl4Q2hELEVBQVFzQyxpQkFBaUIsUUFBU1ksR0FDbENyRCxFQUFheUMsaUJBQWlCLFFBQVNZLEdBQ3ZDbkQsRUFBYXVDLGlCQUFpQixTQUFTLEtBQ2hDOUMsRUFBVWdGLFNBQVFoRixFQUFZQSxFQUFVaUYsT0FBT2hGLElBNE94RCxTQUErQmlGLEdBQzdCLE1BQU1DLEVBQVdoRixTQUFTaUYsdUJBM09GLFFBNE94QixLQUFPRCxFQUFTSCxPQUFTLEdBQ3ZCRyxFQUFTLEdBQUdFLFdBQVdDLFlBQVlILEVBQVMsSUE3TzVDSSxHQUl1QixJQUFuQjFFLEVBQVVnQyxPQUE2QixJQUFkOUIsRUFBSzhCLE1BQ3pCMkMsTUFBTSx3REFLWi9FLEVBQVE2RCxVQUFVbUIsU0FBUyxXQUMzQi9FLEVBQVc0RCxVQUFVbUIsU0FBUyxXQUM5QjlFLEVBQVMyRCxVQUFVbUIsU0FBUyxXQU8zQmhGLEVBQVE2RCxVQUFVbUIsU0FBUyxZQUM3QnpGLEVBQVUwRixLQUNSdEcsRUFBS3lCLEVBQVVnQyxNQUFPL0IsRUFBVStCLE1BQU85QixFQUFLOEIsTUFBTyxRQUVyRGEsS0FHRWhELEVBQVc0RCxVQUFVbUIsU0FBUyxZQUNoQ3pGLEVBQVUwRixLQUNSdEcsRUFBS3lCLEVBQVVnQyxNQUFPL0IsRUFBVStCLE1BQU85QixFQUFLOEIsTUFBTyxXQUVyRGEsS0FHRS9DLEVBQVMyRCxVQUFVbUIsU0FBUyxZQUM5QnpGLEVBQVUwRixLQUNSdEcsRUFBS3lCLEVBQVVnQyxNQUFPL0IsRUFBVStCLE1BQU85QixFQUFLOEIsTUFBTyxTQUVyRGEsS0FFRm5DLEVBQWF2QixHQUNiZ0QsUUFBUTJDLE1BQU0zRixRQUNkZ0QsUUFBUTJDLE1BQU0xRixLQTNCWjhCLEVBQVNuQixFQUFXLGVBQ3BCZ0QsRUFBVWhELEVBQVcsZ0NBa0p6QkksRUFBaUI4QixpQkFBaUIsUUFBU3FCLEdBQzNDakQsRUFBYzRCLGlCQUFpQixRQUFTb0IsR0FDeENqRCxFQUFXNkIsaUJBQWlCLFFBQVNhLEdBaERyQ2xELEVBQVFxQyxpQkFBaUIsUUFBU00sR0FDbEMxQyxFQUFXb0MsaUJBQWlCLFFBQVNRLEdBQ3JDM0MsRUFBU21DLGlCQUFpQixRQUFTUyxHQWRuQ3FDLE9BQU85QyxpQkFBaUIsZ0JBQWdCLEtBQ2xDN0MsRUFBUStFLFFBQVVoRixFQUFVZ0YsUUFDaENhLGFBQWFDLFFBQVEsVUFBV0MsS0FBS0MsVUFBVWhHLE9BR2pEQyxFQUFVNEYsYUFBYUksUUFBUSxXQUMvQmhHLEVBQVU4RixLQUFLRyxNQUFNakcsR0FDckJzQixFQUFhdEIsTUF0Sk4sR0NEWEYsRUFBR2dGLGdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL01vZHVsZXMvVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvTW9kdWxlcy9wb3AtdXAtZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBpc0RvbmUgPSBmYWxzZSkge1xuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gdGl0bGU7XG4gIH07XG5cbiAgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZHVlRGF0ZTtcbiAgfTtcblxuICBjb25zdCBnZXREZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gIH07XG5cbiAgY29uc3QgZ2V0UHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByaW9yaXR5O1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZSA9ICgpID0+IHtcbiAgICBpc0RvbmUgPSAhaXNEb25lO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZHVlRGF0ZSxcbiAgICBwcmlvcml0eSxcbiAgICBpc0RvbmUsXG4gICAgZ2V0VGl0bGUsXG4gICAgZ2V0RGVzY3JpcHRpb24sXG4gICAgZ2V0UHJpb3JpdHksXG4gICAgdG9nZ2xlLFxuICAgIGdldERhdGUsXG4gIH07XG59XG5cbmV4cG9ydCB7IHRhc2sgfTtcbiIsImltcG9ydCB7IHRhc2sgfSBmcm9tIFwiLi9UYXNrXCI7XG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgbGV0IHRhc2tBcnJheSA9IFtdO1xuICBsZXQgbXlBcnJheSA9IFtdO1xuICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtYnV0dG9uXCIpO1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1idXR0b25cIik7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVybGF5XCIpO1xuICBjb25zdCBsb3dQcmlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb3dcIik7XG4gIGNvbnN0IG1lZGl1bVByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bVwiKTtcbiAgY29uc3QgaGlnaFByaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZ2hcIik7XG4gIGNvbnN0IHByaW9FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmVycm9yXCIpO1xuICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGVdXCIpO1xuICBjb25zdCB0YXNrQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYWJvdXRdXCIpO1xuICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWUtZGF0ZVwiKTtcbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3QtYnV0dG9uXCIpO1xuICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcHJvamVjdFwiKTtcbiAgY29uc3QgY2FuY2VsUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FuY2VsLXByb2plY3RcIik7XG4gIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKTtcbiAgY29uc3QgcHJvamVjdFRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIik7XG4gIGNvbnN0IHNpZGVCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJcIik7XG4gIGNvbnN0IHRpdGxlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWVycm9yXCIpO1xuXG4gIGZ1bmN0aW9uIGxvYWRIb21lUGFnZSgpIHtcbiAgICBhZGRUYXNrKCk7XG4gICAgY2xvc2VUYXNrRm9ybSgpO1xuICAgIGFkZFByb2plY3RGb3JtKCk7XG4gICAgcHJpb0J1dHRvbnMoKTtcbiAgICBzdG9yZWRUYXNrcygpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFzaygpIHtcbiAgICBhZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRm9ybSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhc2tGb3JtKCkge1xuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlRm9ybSk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUZvcm0pO1xuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKCF0YXNrQXJyYXkubGVuZ3RoKSB0YXNrQXJyYXkgPSB0YXNrQXJyYXkuY29uY2F0KG15QXJyYXkpO1xuICAgICAgLy9yZW1vdmluZyBlbGVtZW50cyBzbyB0aGV5IGRvbnQgZHVwbGljYXRlXG4gICAgICByZW1vdmVFbGVtZW50c0J5Q2xhc3MoXCJpdGVtXCIpO1xuXG4gICAgICAvLyAgICAgSW5wdXQgRXJyb3JcblxuICAgICAgaWYgKHRhc2tUaXRsZS52YWx1ZSA9PSBcIlwiIHx8IGRhdGUudmFsdWUgPT0gXCJcIilcbiAgICAgICAgcmV0dXJuIGFsZXJ0KFwiVGFzayBUaXRsZSBpcyBlbXB0eSBvciB5b3UgaGF2ZW50IGNob3NlIHRoZSBkdWUgZGF0ZVwiKTtcblxuICAgICAgLy8gICAgIFByaW9yaXR5IEVycm9yXG5cbiAgICAgIGlmIChcbiAgICAgICAgIWxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmXG4gICAgICAgICFtZWRpdW1QcmlvLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJlxuICAgICAgICAhaGlnaFByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpXG4gICAgICApIHtcbiAgICAgICAgYWRkQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgICAgICAgc2hvd0Vycm9yKHByaW9FcnJvciwgXCJQbGVhc2UgY2hvb3NlIGEgcHJpb3JpdHlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvd1ByaW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XG4gICAgICAgIHRhc2tBcnJheS5wdXNoKFxuICAgICAgICAgIHRhc2sodGFza1RpdGxlLnZhbHVlLCB0YXNrQWJvdXQudmFsdWUsIGRhdGUudmFsdWUsIFwibG93XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaXVtUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJtZWRpdW1cIilcbiAgICAgICAgKTtcbiAgICAgICAgY2xvc2VGb3JtKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaWdoUHJpby5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgdGFza0FycmF5LnB1c2goXG4gICAgICAgICAgdGFzayh0YXNrVGl0bGUudmFsdWUsIHRhc2tBYm91dC52YWx1ZSwgZGF0ZS52YWx1ZSwgXCJoaWdoXCIpXG4gICAgICAgICk7XG4gICAgICAgIGNsb3NlRm9ybSgpO1xuICAgICAgfVxuICAgICAgZGlzcGxheVRhc2tzKHRhc2tBcnJheSk7XG4gICAgICBjb25zb2xlLnRhYmxlKHRhc2tBcnJheSk7XG4gICAgICBjb25zb2xlLnRhYmxlKG15QXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGxheVRhc2tzKGFycmF5KSB7XG4gICAgY29uc3QgdGFza0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWl0ZW1zXCIpO1xuICAgIGFycmF5LmZvckVhY2goKHRhc2ssIGkpID0+IHtcbiAgICAgIHRhc2suaWQgPSBgdGFzayR7aX1gO1xuICAgICAgY29uc3QgaXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyhpdGVtRGl2LCBcIml0ZW1cIik7XG4gICAgICBpZiAodGFzay5wcmlvcml0eSA9PSBcImxvd1wiKSBhZGRDbGFzcyhpdGVtRGl2LCBcImxvdy1wcmlvXCIpO1xuICAgICAgaWYgKHRhc2sucHJpb3JpdHkgPT0gXCJtZWRpdW1cIikgYWRkQ2xhc3MoaXRlbURpdiwgXCJtaWQtcHJpb1wiKTtcbiAgICAgIGlmICh0YXNrLnByaW9yaXR5ID09IFwiaGlnaFwiKSBhZGRDbGFzcyhpdGVtRGl2LCBcImhpZ2gtcHJpb1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQodGFza0l0ZW1zLCBpdGVtRGl2KTtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGl0ZW1EaXYsIGRpdik7XG4gICAgICBjb25zdCBjaGVja0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGNoZWNrQm94LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcbiAgICAgIGNoZWNrQm94LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY2hlY2tib3hcIik7XG4gICAgICBjb25zdCB0YXNrVGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1RpdGxlRGl2LCBcInRhc2staGVhZGVyXCIpO1xuICAgICAgYWRkVGV4dFRvRWxlbWVudCh0YXNrVGl0bGVEaXYsIHRhc2sudGl0bGUpO1xuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGFkZENsYXNzKGRlbGV0ZUJ1dHRvbiwgXCJkZWxldGUtYnV0dG9uXCIpO1xuICAgICAgZGVsZXRlQnV0dG9uLmlubmVySFRNTCA9IFwiJnRpbWVzO1wiO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGNoZWNrQm94KTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCB0YXNrVGl0bGVEaXYpO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIGRlbGV0ZUJ1dHRvbik7XG4gICAgICBjb25zdCB0aGluTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzcyh0aGluTGluZSwgXCJ0aGluLWxpbmVcIik7XG4gICAgICBhcHBlbmRDaGlsZFRvUGFyZW50KGl0ZW1EaXYsIHRoaW5MaW5lKTtcbiAgICAgIGNvbnN0IHRhc2tJbmZvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKHRhc2tJbmZvRGl2LCBcInRhc2staW5mb1wiKTtcbiAgICAgIGFkZFRleHRUb0VsZW1lbnQodGFza0luZm9EaXYsIHRhc2suZGVzY3JpcHRpb24pO1xuICAgICAgYXBwZW5kQ2hpbGRUb1BhcmVudChpdGVtRGl2LCB0YXNrSW5mb0Rpdik7XG4gICAgICBjb25zdCB0aGluTGluZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGhpbkxpbmUxLCBcInRoaW4tbGluZVwiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGhpbkxpbmUxKTtcbiAgICAgIGNvbnN0IHRhc2tTdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYWRkQ2xhc3ModGFza1N0YXR1c0RpdiwgXCJ0YXNrLXN0YXR1c1wiKTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoaXRlbURpdiwgdGFza1N0YXR1c0Rpdik7XG4gICAgICBjb25zdCBkYXRleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGRhdGV5LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgICAgZGF0ZXkuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGVcIik7XG4gICAgICBkYXRleS52YWx1ZSA9IHRhc2suZHVlRGF0ZTtcbiAgICAgIGFwcGVuZENoaWxkVG9QYXJlbnQodGFza1N0YXR1c0RpdiwgZGF0ZXkpO1xuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGl0ZW1EaXYucmVtb3ZlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhc2tBcnJheSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG15QXJyYXkpO1xuICAgICAgICB0YXNrQXJyYXkgPSB0YXNrQXJyYXkuZmlsdGVyKChsZVRhc2spID0+IHtcbiAgICAgICAgICByZXR1cm4gbGVUYXNrLmlkICE9PSB0YXNrLmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgbXlBcnJheSA9IG15QXJyYXkuZmlsdGVyKChsZVRhc2spID0+IHtcbiAgICAgICAgICByZXR1cm4gbGVUYXNrLmlkICE9PSB0YXNrLmlkO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcmVkVGFza3MoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgICAgaWYgKG15QXJyYXkubGVuZ3RoID49IHRhc2tBcnJheS5sZW5ndGgpIHJldHVybjtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXlBcnJheVwiLCBKU09OLnN0cmluZ2lmeSh0YXNrQXJyYXkpKTtcbiAgICB9KTtcblxuICAgIG15QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm15QXJyYXlcIik7XG4gICAgbXlBcnJheSA9IEpTT04ucGFyc2UobXlBcnJheSk7XG4gICAgZGlzcGxheVRhc2tzKG15QXJyYXkpO1xuICAgIHJldHVybiBteUFycmF5O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJpb0J1dHRvbnMoKSB7XG4gICAgbG93UHJpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcHJpb0J1dHRvbnNBY3RpdmVHcmVlbik7XG4gICAgbWVkaXVtUHJpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcHJpb0J1dHRvbnNBY3RpdmVZZWxsb3cpO1xuICAgIGhpZ2hQcmlvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmlvQnV0dG9uc0FjdGl2ZVJlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZUdyZWVuKCkge1xuICAgIGFkZENsYXNzKGxvd1ByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJpb0J1dHRvbnNBY3RpdmVZZWxsb3coKSB7XG4gICAgYWRkQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MoaGlnaFByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKHByaW9FcnJvciwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBwcmlvQnV0dG9uc0FjdGl2ZVJlZCgpIHtcbiAgICBhZGRDbGFzcyhoaWdoUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobWVkaXVtUHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MobG93UHJpbywgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJpb0Vycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5Gb3JtKCkge1xuICAgIHJlbW92ZUNsYXNzKGxvd1ByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKG1lZGl1bVByaW8sIFwiYWN0aXZlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGhpZ2hQcmlvLCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhwcmlvRXJyb3IsIFwiYWN0aXZlXCIpO1xuICAgIGNsZWFyRm9ybUlucHV0cyh0YXNrQWJvdXQsIFwiXCIpO1xuICAgIGNsZWFyRm9ybUlucHV0cyh0YXNrVGl0bGUsIFwiXCIpO1xuICAgIGNsZWFyRm9ybUlucHV0cyhkYXRlLCBcIlwiKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5mb3JtXCIpO1xuICAgIGFkZENsYXNzKGZvcm0sIFwiYWN0aXZlXCIpO1xuICAgIGFkZENsYXNzKG92ZXJsYXksIFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZvcm1cIik7XG4gICAgcmVtb3ZlQ2xhc3MoZm9ybSwgXCJhY3RpdmVcIik7XG4gICAgcmVtb3ZlQ2xhc3Mob3ZlcmxheSwgXCJhY3RpdmVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQcm9qZWN0Rm9ybSgpIHtcbiAgICBhZGRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUHJvamVjdEZvcm0pO1xuICAgIGNhbmNlbFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlUHJvamVjdEZvcm0pO1xuICAgIGFkZFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFkZFByb2plY3RUaXRsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQcm9qZWN0VGl0bGUoKSB7XG4gICAgaWYgKHByb2plY3RUaXRsZUlucHV0LnZhbHVlID09IFwiXCIpIHtcbiAgICAgIGFkZENsYXNzKHRpdGxlRXJyb3IsIFwiYWN0aXZlXCIpO1xuICAgICAgc2hvd0Vycm9yKHRpdGxlRXJyb3IsIFwiUGxlYXNlIGNob29zZSBhIHByb2plY3QgdGl0bGVcIik7XG4gICAgICBhZGRDbGFzcyhhZGRQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICAgIGFkZENsYXNzKGNhbmNlbFByb2plY3QsIFwiYWN0aXZlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZGRDbGFzcyhwcm9qZWN0Rm9ybSwgXCJoaWRlXCIpO1xuICAgIHJlbW92ZUNsYXNzKGFkZFByb2plY3RCdXR0b24sIFwiaGlkZVwiKTtcbiAgICBjcmVhdGVQcm9qZWN0cygpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdHMoKSB7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnN0IGNsb3NlSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNsb3NlSW1hZ2Uuc3JjID0gXCJJbWFnZXMvY2xvc2UtY2lyY2xlLW91dGxpbmUuc3ZnXCI7XG4gICAgaW1hZ2Uuc3JjID0gXCJJbWFnZXMvZm9ybWF0LWxpc3QtY2hlY2tzLnN2Z1wiO1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBhZGRUZXh0VG9FbGVtZW50KHNwYW4sIHByb2plY3RUaXRsZUlucHV0LnZhbHVlKTtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBpbWFnZSk7XG4gICAgYXBwZW5kQ2hpbGRUb1BhcmVudChkaXYsIHNwYW4pO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoZGl2LCBjbG9zZUltYWdlKTtcbiAgICBhZGRDbGFzcyhkaXYsIFwiYS1wcm9qZWN0XCIpO1xuICAgIGFwcGVuZENoaWxkVG9QYXJlbnQoc2lkZUJhciwgZGl2KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlUHJvamVjdEZvcm0oKSB7XG4gICAgYWRkQ2xhc3MocHJvamVjdEZvcm0sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuUHJvamVjdEZvcm0oKSB7XG4gICAgY2xlYXJGb3JtSW5wdXRzKHByb2plY3RUaXRsZUlucHV0LCBcIlwiKTtcbiAgICBhZGRDbGFzcyhhZGRQcm9qZWN0QnV0dG9uLCBcImhpZGVcIik7XG4gICAgcmVtb3ZlQ2xhc3MocHJvamVjdEZvcm0sIFwiaGlkZVwiKTtcbiAgICByZW1vdmVDbGFzcyhhZGRQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyhjYW5jZWxQcm9qZWN0LCBcImFjdGl2ZVwiKTtcbiAgICByZW1vdmVDbGFzcyh0aXRsZUVycm9yLCBcImFjdGl2ZVwiKTtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXMpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhcyk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RXJyb3IoZWxlbWVudCwgbWVzc2FnZSkge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJGb3JtSW5wdXRzKGVsZW1lbnQsIGNsZWFyKSB7XG4gICAgZWxlbWVudC52YWx1ZSA9IGNsZWFyO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGRUb1BhcmVudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgcGFyZW50LmFwcGVuZChjaGlsZCk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUZXh0VG9FbGVtZW50KGVsZW1lbnQsIHRleHQpIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRzQnlDbGFzcyhjbGFzc05hbWUpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcbiAgICB3aGlsZSAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgZWxlbWVudHNbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50c1swXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkSG9tZVBhZ2UsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBVSSB9O1xuIiwiaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi9Nb2R1bGVzL3BvcC11cC1mb3JtXCI7XG5VSS5sb2FkSG9tZVBhZ2UoKTtcbiJdLCJuYW1lcyI6WyJ0YXNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImlzRG9uZSIsImdldFRpdGxlIiwiZ2V0RGVzY3JpcHRpb24iLCJnZXRQcmlvcml0eSIsInRvZ2dsZSIsImdldERhdGUiLCJVSSIsInRhc2tBcnJheSIsIm15QXJyYXkiLCJhZGRUYXNrQnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbmNlbEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXRCdXR0b24iLCJvdmVybGF5IiwibG93UHJpbyIsIm1lZGl1bVByaW8iLCJoaWdoUHJpbyIsInByaW9FcnJvciIsInRhc2tUaXRsZSIsInRhc2tBYm91dCIsImRhdGUiLCJhZGRQcm9qZWN0QnV0dG9uIiwiYWRkUHJvamVjdCIsImNhbmNlbFByb2plY3QiLCJwcm9qZWN0Rm9ybSIsInByb2plY3RUaXRsZUlucHV0Iiwic2lkZUJhciIsInRpdGxlRXJyb3IiLCJkaXNwbGF5VGFza3MiLCJhcnJheSIsInRhc2tJdGVtcyIsImZvckVhY2giLCJpIiwiaWQiLCJpdGVtRGl2IiwiY3JlYXRlRWxlbWVudCIsImFkZENsYXNzIiwiYXBwZW5kQ2hpbGRUb1BhcmVudCIsImRpdiIsImNoZWNrQm94Iiwic2V0QXR0cmlidXRlIiwidGFza1RpdGxlRGl2IiwiYWRkVGV4dFRvRWxlbWVudCIsImRlbGV0ZUJ1dHRvbiIsImlubmVySFRNTCIsInRoaW5MaW5lIiwidGFza0luZm9EaXYiLCJ0aGluTGluZTEiLCJ0YXNrU3RhdHVzRGl2IiwiZGF0ZXkiLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjb25zb2xlIiwibG9nIiwiZmlsdGVyIiwibGVUYXNrIiwicHJpb0J1dHRvbnNBY3RpdmVHcmVlbiIsInJlbW92ZUNsYXNzIiwicHJpb0J1dHRvbnNBY3RpdmVZZWxsb3ciLCJwcmlvQnV0dG9uc0FjdGl2ZVJlZCIsIm9wZW5Gb3JtIiwiY2xlYXJGb3JtSW5wdXRzIiwiY2xvc2VGb3JtIiwiYWRkUHJvamVjdFRpdGxlIiwic2hvd0Vycm9yIiwiaW1hZ2UiLCJjbG9zZUltYWdlIiwic3JjIiwic3BhbiIsImNyZWF0ZVByb2plY3RzIiwiY2xvc2VQcm9qZWN0Rm9ybSIsIm9wZW5Qcm9qZWN0Rm9ybSIsImVsZW1lbnQiLCJjbGFzIiwiY2xhc3NMaXN0IiwiYWRkIiwibWVzc2FnZSIsInRleHRDb250ZW50IiwiY2xlYXIiLCJwYXJlbnQiLCJjaGlsZCIsImFwcGVuZCIsInRleHQiLCJsb2FkSG9tZVBhZ2UiLCJsZW5ndGgiLCJjb25jYXQiLCJjbGFzc05hbWUiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFbGVtZW50c0J5Q2xhc3MiLCJhbGVydCIsImNvbnRhaW5zIiwicHVzaCIsInRhYmxlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRJdGVtIiwicGFyc2UiXSwic291cmNlUm9vdCI6IiJ9